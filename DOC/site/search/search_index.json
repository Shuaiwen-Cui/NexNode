{"config":{"lang":["en","zh"],"separator":"[\\s\\u200b\\-_,:!=\\[\\]()\"`/]+|\\.(?!\\d)|&[lg]t;|(?!\\b)(?=[A-Z][a-z])","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"NexNode","text":"<p>This project dedicates to the development of an EdgeAI-powered MCU level IoT node for future-oriented applications.</p> <p>\"Nex\" is stemmed from both \"Next\" and \"Nexus\", which implies the next generation of IoT devices and the connection between the physical and digital worlds.</p> <p></p>"},{"location":"DNESP32S3/dnesp32s3/","title":"ALIENTEK DNESP32S3","text":"<p>Alientek DNESP32S3 Development Board</p> <p></p> <p></p> <p>\ud83c\udfd7\ufe0f</p>"},{"location":"DNESP32S3M/dnesp32s3m/","title":"ALIENTEK DNESP32S3M","text":""},{"location":"DNESP32S3M/dnesp32s3m/#hardware-architecture","title":"HARDWARE ARCHITECTURE","text":"<p>Hardware Architecture</p> <p>MAIN CONTROL + PERCEPTION + COMMUNICATION + ACTUATION + POWER</p> <p>Alientek DNESP32S3M Main Control Board</p> <p></p> <p></p>"},{"location":"DNESP32S3M/dnesp32s3m/#code-architecture","title":"CODE ARCHITECTURE","text":"<p>General ESP32 Project Structure</p> <pre><code>- myProject/\n             - CMakeLists.txt\n             - sdkconfig\n             - components/ - component1/ - CMakeLists.txt\n                                         - Kconfig\n                                         - src1.c\n                           - component2/ - CMakeLists.txt\n                                         - Kconfig\n                                         - src1.c\n                                         - include/ - component2.h\n             - main/       - CMakeLists.txt\n                           - src1.c\n                           - src2.c\n             - build/\n</code></pre> <p>DNESP32S3M INITIAL PROJECT STRUCTURE</p> <pre><code>- DNESP32S3M-INIT/\n             - .vscode/ (vscode setting files, can be ignored)\n             - CMakeLists.txt (project level cmake file)\n             - sdkconfig (project level sdkconfig file, generated by idf.py menuconfig)\n             - sdkconfig.old (backup of sdkconfig)\n             - partitions-16MiB.csv (partitions table file adjusted for 16MiB flash)\n             - application/ - component1/ - CMakeLists.txt\n                                          - Kconfig\n                                          - src1.c\n                            - component2/ - CMakeLists.txt\n                                          - Kconfig\n                                          - src1.c\n                                          - include/ - component2.h\n             - middleware/  - component1/ - CMakeLists.txt\n                                          - Kconfig\n                                          - src1.c\n                            - component2/ - CMakeLists.txt\n                                          - Kconfig\n                                          - src1.c\n                                          - include/ - component2.h\n             - driver/      - component1/ - CMakeLists.txt\n                                          - Kconfig\n                                          - src1.c\n                            - component2/ - CMakeLists.txt\n                                          - Kconfig\n                                          - src1.c\n                                          - include/ - component2.h\n             - main/        - CMakeLists.txt\n                            - src1.c\n                            - src2.c\n             - build/\n</code></pre>"},{"location":"DNESP32S3M/dnesp32s3m/#recommended-order","title":"RECOMMENDED ORDER","text":"<p>In short, you can refer to the dependency relationship in each chapter. Ensure all the prerequisites are met before proceeding to the current chapter.</p> <ol> <li>PROJECT CONSTRRUCTION</li> <li>ACTUATION&gt;LED</li> <li>ACTUATION&gt;EXIT (External Interrupt)</li> <li>MAIN-CONTROL&gt;TIMER</li> <li>MAIN-CONTROL&gt;RTC</li> </ol> <p>\ud83c\udfd7\ufe0f</p>"},{"location":"DNESP32S3M/ACTUATION/actuation/","title":"ACTUATION","text":""},{"location":"DNESP32S3M/ACTUATION/KEY%28EXIT%29/code/","title":"KEY(EXIT) CODE","text":""},{"location":"DNESP32S3M/ACTUATION/KEY%28EXIT%29/code/#component-architecture","title":"Component Architecture","text":"<pre><code>- driver\n    - exit\n        - include\n            - exit.h\n        - exit.c\n        - CMakeLists.txt\n</code></pre>"},{"location":"DNESP32S3M/ACTUATION/KEY%28EXIT%29/code/#driverexitcmakeliststxt","title":"driver/exit/CMakeLists.txt","text":"<pre><code>set(src_dirs\n    .\n)\n\nset(include_dirs\n    include\n)\n\nset(requires\n    driver\n    led\n)\n\nidf_component_register(SRC_DIRS ${src_dirs} INCLUDE_DIRS ${include_dirs} REQUIRES ${requires})\n</code></pre> <p>Note</p> <p>Note that in the drivers, we used gpio from the ESP-IDF builtin <code>driver</code> library, therefore, we need to indicate this dependency in the <code>REQUIRES</code> field of the <code>CMakeLists.txt</code> file. Also, we use the LED to show the effect of the external interrupt, so we need to add <code>led</code> in the <code>REQUIRES</code> field.</p>"},{"location":"DNESP32S3M/ACTUATION/KEY%28EXIT%29/code/#exith","title":"exit.h","text":"<pre><code>/**\n * @file exit.h\n * @author\n * @brief This file is for the external interrupt initialization and configuration.\n * @version 1.0\n * @date 2024-11-17\n *\n * @copyright Copyright (c) 2024\n *\n */\n\n#ifndef __EXIT_H__\n#define __EXIT_H__\n\n#include \"esp_system.h\"\n#include \"driver/gpio.h\"\n#include \"led.h\"\n\n/* Pin definition */\n#define BOOT_INT_GPIO_PIN GPIO_NUM_0\n\n/* IO operation */\n#define BOOT_EXIT gpio_get_level(BOOT_INT_GPIO_PIN)\n\n/* Function declarations */\n/**\n * @brief       External interrupt initialization function\n * @param       None\n * @retval      None\n */\nvoid exit_init(void); /* External interrupt initialization function */\n\n#endif\n</code></pre>"},{"location":"DNESP32S3M/ACTUATION/KEY%28EXIT%29/code/#exitc","title":"exit.c","text":"<pre><code>/**\n * @file exit.c\n * @author \n * @brief This file is for the external interrupt initialization and configuration.\n * @version 1.0\n * @date 2024-11-17\n * \n * @copyright Copyright (c) 2024\n * \n */\n\n#include \"exit.h\"\n\n/**\n * @brief       External interrupt service routine\n * @param       arg: Interrupt pin number\n * @note        IRAM_ATTR: The IRAM_ATTR attribute is used to store the interrupt handler in internal RAM to reduce latency\n * @retval      None\n */\nstatic void IRAM_ATTR exit_gpio_isr_handler(void *arg)\n{\n    uint32_t gpio_num = (uint32_t) arg;\n\n    if (gpio_num == BOOT_INT_GPIO_PIN)\n    {\n        exit_toggle();\n    }\n}\n\n/**\n * @brief       External interrupt initialization function\n * @param       None\n * @retval      None\n */\nvoid exit_init(void)\n{\n    gpio_config_t gpio_init_struct;\n\n    /* Configure BOOT pin and external interrupt */\n    gpio_init_struct.mode = GPIO_MODE_INPUT;                    /* Set as input mode */\n    gpio_init_struct.pull_up_en = GPIO_PULLUP_ENABLE;           /* Enable pull-up */\n    gpio_init_struct.pull_down_en = GPIO_PULLDOWN_DISABLE;      /* Disable pull-down */\n    gpio_init_struct.intr_type = GPIO_INTR_NEGEDGE;             /* Trigger on falling edge */\n    gpio_init_struct.pin_bit_mask = 1ull &lt;&lt; BOOT_INT_GPIO_PIN;  /* Configure BOOT key pin */\n    gpio_config(&amp;gpio_init_struct);                             /* Apply configuration */\n\n    /* Register interrupt service */\n    gpio_install_isr_service(0);\n\n    /* Set GPIO interrupt callback function */\n    gpio_isr_handler_add(BOOT_INT_GPIO_PIN, exit_gpio_isr_handler, (void*) BOOT_INT_GPIO_PIN);\n\n    /* Enable GPIO interrupt */\n    gpio_intr_enable(BOOT_INT_GPIO_PIN);\n}\n</code></pre>"},{"location":"DNESP32S3M/ACTUATION/KEY%28EXIT%29/code/#mainc","title":"main.c","text":"<pre><code>/**\n * @file main.c\n * @author SHUAIWEN CUI (SHUAIWEN001@e.ntu.edu.sg)\n * @brief \n * @version 1.0\n * @date 2024-11-17\n * \n * @copyright Copyright (c) 2024\n * \n */\n\n/* Dependencies */\n// Basic\n#include \"esp_system.h\"\n#include \"esp_chip_info.h\"\n#include \"esp_psram.h\"\n#include \"esp_flash.h\"\n#include \"nvs_flash.h\"\n#include \"esp_log.h\"\n\n// RTOS\n#include \"freertos/FreeRTOS.h\"\n#include \"freertos/task.h\"\n\n// BSP\n#include \"led.h\"\n#include \"exit.h\"\n\n/**\n * @brief Entry point of the program\n * @param None\n * @retval None\n */\nvoid app_main(void)\n{\n    esp_err_t ret;\n    uint32_t flash_size;\n    esp_chip_info_t chip_info;\n\n    // Initialize NVS\n    ret = nvs_flash_init();\n    if (ret == ESP_ERR_NVS_NO_FREE_PAGES || ret == ESP_ERR_NVS_NEW_VERSION_FOUND)\n    {\n        ESP_ERROR_CHECK(nvs_flash_erase()); // Erase if needed\n        ret = nvs_flash_init();\n    }\n\n    // Get FLASH size\n    esp_flash_get_size(NULL, &amp;flash_size);\n    esp_chip_info(&amp;chip_info);\n\n    // Display CPU core count\n    printf(\"CPU Cores: %d\\n\", chip_info.cores);\n\n    // Display FLASH size\n    printf(\"Flash size: %ld MB flash\\n\", flash_size / (1024 * 1024));\n\n    // Display PSRAM size\n    printf(\"PSRAM size: %d bytes\\n\", esp_psram_get_size());\n\n    // BSP\n    led_init();\n\n    // key_init();\n    exit_init();\n\n    while (1)\n    {\n        vTaskDelay(10);\n\n    }\n\n}\n</code></pre>"},{"location":"DNESP32S3M/ACTUATION/KEY%28EXIT%29/integration/","title":"INTEGRATION","text":""},{"location":"DNESP32S3M/ACTUATION/KEY%28EXIT%29/integration/#introduction","title":"Introduction","text":"<p>Note</p> <p>In this section, we introduce how to integrate the KEY(exit) driver into the project.</p>"},{"location":"DNESP32S3M/ACTUATION/KEY%28EXIT%29/integration/#create-a-new-component","title":"Create a New Component","text":"<p>Warning</p> <p>Before you create a component in the <code>driver</code> directory, make sure you have incorporated the <code>driver</code> directory into the project by adding the path to the <code>driver</code> directory to the <code>EXTRA_COMPONENT_DIRS</code> variable in the project-level <code>CMakeLists.txt</code> file.</p> <p>Open the project in VSCode, open the integrated terminal, and type in</p> <p><pre><code>get_idf \n</code></pre> to actiate the ESP-IDF environment. Then type in the following command to create a new component named exit`:</p> <pre><code>idf.py -C driver create-component exit\n</code></pre> <p>The command above means to create a new component named exit<code>in the</code>driver<code>directory. After executing the command, you will see a new directory named exit</code> in the <code>driver</code> directory. And the command will automatically generate the <code>CMakeLists.txt</code> file for the new component, as well as the <code>exit.h</code> and <code>exit.c</code> files.</p> <p>Alternatively, you can mannually create the exit<code>directory in the</code>driver<code>directory, and then create the</code>CMakeLists.txt<code>,</code>exit.h<code>, and</code>exit.c<code>files in the exit</code> directory.</p>"},{"location":"DNESP32S3M/ACTUATION/KEY%28EXIT%29/integration/#replace-the-code","title":"Replace the Code","text":"<p>Component Level</p> <p>Replace the code in this section into the <code>CMakelists.txt</code>, <code>exit.h</code>, and <code>exit.c</code> files under the component.</p> <p>Project Level</p> <p>Replace the code in <code>main.c</code> with the corresponding code. No need to change the <code>CMakeLists.txt</code> file at the project level.</p>"},{"location":"DNESP32S3M/ACTUATION/KEY%28EXIT%29/integration/#compile-and-flash-the-project","title":"Compile and Flash the Project","text":"<p>Open the project in VSCode, open the integrated terminal, and type in</p> <pre><code>idf.py build flash monitor\n</code></pre> <p>Now, press the button, and the LED status flips.</p>"},{"location":"DNESP32S3M/ACTUATION/KEY%28EXIT%29/note/","title":"KEY (EXIT) NOTES","text":""},{"location":"DNESP32S3M/ACTUATION/KEY%28EXIT%29/note/#introduction","title":"Introduction","text":"<p>Note</p> <p>In this section, we will talk about the onboard key on the DNESP32S3M development board, for convenience, the key is not used in block mode but rather in interrupt mode. We use external interrupts to detect the key press. In fact, we are discussing the external interrups, and we use the key to show the effect of external interrupts.</p>"},{"location":"DNESP32S3M/ACTUATION/KEY%28EXIT%29/note/#the-key","title":"The KEY","text":""},{"location":"DNESP32S3M/ACTUATION/KEY%28EXIT%29/note/#the-circuit-onboard","title":"The Circuit Onboard","text":""},{"location":"DNESP32S3M/ACTUATION/KEY%28EXIT%29/note/#dependencies","title":"Dependencies","text":""},{"location":"DNESP32S3M/ACTUATION/KEY%28EXIT%29/note/#key-functions","title":"Key Functions","text":"Function Prototype Explanation Example static void IRAM_ATTR exit_gpio_isr_handler(void *arg) External interrupt service routine, put the action you want to conduct once an event is detected here put your actions here esp_err_t gpio_install_isr_service(int intr_alloc_flags) Install the driver's GPIO ISR service, which allows you to register the ISR handler for the GPIO pin gpio_install_isr_service(0); esp_err_t gpio_isr_handler_add(gpio_num_t gpio_num, gpio_isr_t isr_handler, void *args) Add the handler for the GPIO pin gpio_isr_handler_add(BOOT_INT_GPIO_PIN, exit_gpio_isr_handler, (void*) BOOT_INT_GPIO_PIN); esp_err_t gpio_intr_enable(gpio_num_t gpio_num) Enable the GPIO interrupt gpio_intr_enable(BOOT_INT_GPIO_PIN); <p>Tip</p> <p>Once you setup the handler function, you do not need to call the funciton in your main loop, as the interrupt will be triggered automatically once the event is detected.</p>"},{"location":"DNESP32S3M/ACTUATION/LED/code/","title":"LED CODE","text":""},{"location":"DNESP32S3M/ACTUATION/LED/code/#component-architecture","title":"Component Architecture","text":"<pre><code>- driver\n    - led\n        - include\n            - led.h\n        - led.c\n        - CMakeLists.txt\n</code></pre>"},{"location":"DNESP32S3M/ACTUATION/LED/code/#driverledcmakeliststxt","title":"driver/led/CMakeLists.txt","text":"<pre><code>set(src_dirs\n    .\n)\n\nset(include_dirs\n    include\n)\n\nset(requires\n    driver\n)\n\nidf_component_register(SRC_DIRS ${src_dirs} INCLUDE_DIRS ${include_dirs} REQUIRES ${requires})\n</code></pre> <p>Note</p> <p>Note that in the drivers, we used gpio from the ESP-IDF builtin <code>driver</code> library, therefore, we need to indicate this dependency in the <code>REQUIRES</code> field of the <code>CMakeLists.txt</code> file.</p>"},{"location":"DNESP32S3M/ACTUATION/LED/code/#ledh","title":"LED.h","text":"<pre><code>/**\n * @file led.h\n * @author SHUAIWEN CUI (SHUAIWEN001@e.ntu.edu.sg)\n * @brief The led here indicates the onboard red led on the Alientek DNESP32S3M minimal development board.\n * @version 1.0\n * @date 2024-11-16\n * \n * @copyright Copyright (c) 2024\n * \n */\n\n#ifndef __LED_H__\n#define __LED_H__\n\n/* Dependencies */\n#include \"driver/gpio.h\"\n\n/* GPIO Pin Definition */\n#define LED_GPIO_PIN    GPIO_NUM_1  /* GPIO port connected to LED */\n\n/* GPIO States */\n#define LED_PIN_RESET       0\n#define LED_PIN_SET         1\n\n/**\n * @brief       Initialize the LED\n * @param       None\n * @retval      None\n */\nvoid led_init(void);\n\n/**\n * @brief       Control the LED\n * @param       x: 1 for on, 0 for off\n * @retval      None\n */\nvoid led(int x);\n\n/**\n * @brief       Toggle the LED\n * @param       None\n * @retval      None\n */\nvoid led_toggle(void);\n\n#endif /* __LED_H__ */\n</code></pre>"},{"location":"DNESP32S3M/ACTUATION/LED/code/#ledc","title":"LED.c","text":"<pre><code>/**\n * @file led.c\n * @author SHUAIWEN CUI (SHUAIWEN001@e.ntu.edu.sg)\n * @brief The led here indicates the onboard red led on the Alientek DNESP32S3M minimal development board.\n * @version 1.0\n * @date 2024-11-16\n * \n * @copyright Copyright (c) 2024\n * \n */\n\n/* Dependencies */\n#include \"led.h\"\n\n/**\n * @brief       Initialize the LED\n * @param       None\n * @retval      None\n */\nvoid led_init(void)\n{\n    gpio_config_t gpio_init_struct = {0};\n\n    gpio_init_struct.intr_type = GPIO_INTR_DISABLE;         /* Disable GPIO interrupt */\n    gpio_init_struct.mode = GPIO_MODE_INPUT_OUTPUT;         /* Set GPIO mode to input-output */\n    gpio_init_struct.pull_up_en = GPIO_PULLUP_ENABLE;       /* Enable pull-up resistor */\n    gpio_init_struct.pull_down_en = GPIO_PULLDOWN_DISABLE;  /* Disable pull-down resistor */\n    gpio_init_struct.pin_bit_mask = 1ull &lt;&lt; LED_GPIO_PIN;   /* Set pin bit mask for the configured pin */\n    gpio_config(&amp;gpio_init_struct);                         /* Configure GPIO */\n\n    led(1); /* Turn on the LED */\n}\n\n/**\n * @brief       Control the LED\n * @param       x: 1 for on, 0 for off\n * @retval      None\n */\nvoid led(int x)\n{\n    if(x)\n    {\n        gpio_set_level(LED_GPIO_PIN, LED_PIN_RESET);\n    }\n    else\n    {\n        gpio_set_level(LED_GPIO_PIN, LED_PIN_SET);\n    }\n}\n\n/**\n * @brief       Toggle the LED\n * @param       None\n * @retval      None\n */\nvoid led_toggle(void)\n{\n    gpio_set_level(LED_GPIO_PIN, !gpio_get_level(LED_GPIO_PIN));\n}\n</code></pre>"},{"location":"DNESP32S3M/ACTUATION/LED/code/#mainc","title":"main.c","text":"<pre><code>/* Dependencies */\n// Basic\n#include \"esp_system.h\"\n#include \"esp_chip_info.h\"\n#include \"esp_psram.h\"\n#include \"esp_flash.h\"\n#include \"nvs_flash.h\"\n\n// RTOS\n#include \"freertos/FreeRTOS.h\"\n#include \"freertos/task.h\"\n\n// DRIVERS\n#include \"led.h\"\n\n/**\n * @brief Entry point of the program\n * @param None\n * @retval None\n */\nvoid app_main(void)\n{\n    esp_err_t ret;\n    uint32_t flash_size;\n    esp_chip_info_t chip_info;\n\n    // Initialize NVS\n    ret = nvs_flash_init();\n    if (ret == ESP_ERR_NVS_NO_FREE_PAGES || ret == ESP_ERR_NVS_NEW_VERSION_FOUND)\n    {\n        ESP_ERROR_CHECK(nvs_flash_erase()); // Erase if needed\n        ret = nvs_flash_init();\n    }\n\n    // Get FLASH size\n    esp_flash_get_size(NULL, &amp;flash_size);\n    esp_chip_info(&amp;chip_info);\n\n    // Display CPU core count\n    printf(\"CPU Cores: %d\\n\", chip_info.cores);\n\n    // Display FLASH size\n    printf(\"Flash size: %ld MB flash\\n\", flash_size / (1024 * 1024));\n\n    // Display PSRAM size\n    printf(\"PSRAM size: %d bytes\\n\", esp_psram_get_size());\n\n    // BSP\n    led_init(); \n\n    while (1)\n    {\n        printf(\"Hello-ESP32\\r\\n\");\n        led_toggle();\n        vTaskDelay(1000);\n    }\n}\n</code></pre>"},{"location":"DNESP32S3M/ACTUATION/LED/integration/","title":"INTEGRATION","text":""},{"location":"DNESP32S3M/ACTUATION/LED/integration/#introduction","title":"Introduction","text":"<p>Note</p> <p>In this section, we introduce how to integrate the LED driver into the project.</p>"},{"location":"DNESP32S3M/ACTUATION/LED/integration/#create-a-new-component","title":"Create a New Component","text":"<p>Warning</p> <p>Before you create a component in the <code>driver</code> directory, make sure you have incorporated the <code>driver</code> directory into the project by adding the path to the <code>driver</code> directory to the <code>EXTRA_COMPONENT_DIRS</code> variable in the project-level <code>CMakeLists.txt</code> file.</p> <p>Open the project in VSCode, open the integrated terminal, and type in</p> <p><pre><code>get_idf \n</code></pre> to actiate the ESP-IDF environment. Then type in the following command to create a new component named <code>led</code>:</p> <pre><code>idf.py -C driver create-component led\n</code></pre> <p>The command above means to create a new component named <code>led</code> in the <code>driver</code> directory. After executing the command, you will see a new directory named <code>led</code> in the <code>driver</code> directory. And the command will automatically generate the <code>CMakeLists.txt</code> file for the new component, as well as the <code>led.h</code> and <code>led.c</code> files.</p> <p>Alternatively, you can mannually create the <code>led</code> directory in the <code>driver</code> directory, and then create the <code>CMakeLists.txt</code>, <code>led.h</code>, and <code>led.c</code> files in the <code>led</code> directory.</p>"},{"location":"DNESP32S3M/ACTUATION/LED/integration/#replace-the-code","title":"Replace the Code","text":"<p>Component Level</p> <p>Replace the code in this section into the <code>CMakelists.txt</code>, <code>led.h</code>, and <code>led.c</code> files under the component.</p> <p>Project Level</p> <p>Replace the code in <code>main.c</code> with the corresponding code. No need to change the <code>CMakeLists.txt</code> file at the project level.</p>"},{"location":"DNESP32S3M/ACTUATION/LED/integration/#compile-and-flash-the-project","title":"Compile and Flash the Project","text":"<p>Open the project in VSCode, open the integrated terminal, and type in</p> <pre><code>idf.py build flash monitor\n</code></pre> <p>Or click the small flame icon in the lower-left corner of VSCode to compile, flash, and open the monitor. At this point, you should see the LED light up on the development board and see the corresponding output in the monitor.</p>"},{"location":"DNESP32S3M/ACTUATION/LED/note/","title":"LED NOTES","text":""},{"location":"DNESP32S3M/ACTUATION/LED/note/#introduction","title":"Introduction","text":"<p>Note</p> <p>In this section, we will talk about the onboard LED light on the DNESP32S3M development board. By modify the GPIO pin, the code can be used for other boards as well.</p>"},{"location":"DNESP32S3M/ACTUATION/LED/note/#the-led","title":"The LED","text":""},{"location":"DNESP32S3M/ACTUATION/LED/note/#the-circuit-onboard","title":"The Circuit Onboard","text":"<p>As can be seen, the GPIO to control the LED is IO1.</p>"},{"location":"DNESP32S3M/ACTUATION/LED/note/#the-effect","title":"The Effect","text":""},{"location":"DNESP32S3M/ACTUATION/LED/note/#dependencies","title":"Dependencies","text":""},{"location":"DNESP32S3M/ACTUATION/LED/note/#key-functions","title":"Key Functions","text":"Function Prototype Explanation Example <code>void led_init(void)</code> Initialize the LED <code>led_init();</code> <code>void led(int x)</code> Control the LED <code>led(1);</code> <code>void led_toggle(void)</code> Toggle the LED <code>led_toggle();</code>"},{"location":"DNESP32S3M/COMMUNICATION/communication/","title":"COMMUNICATION","text":""},{"location":"DNESP32S3M/MAIN-CONTROL/main-control/","title":"MAIN CONTROL","text":""},{"location":"DNESP32S3M/MAIN-CONTROL/RTC/code/","title":"ESP_RTC CODE","text":"<p>Warning</p> <p>Looks there is a builtin file named <code>rtc.h</code> in the ESP-IDF, so we need to name our file as <code>esp_rtc.h</code> to avoid conflicts. So as to the <code>rtc.c</code> file.</p>"},{"location":"DNESP32S3M/MAIN-CONTROL/RTC/code/#component-architecture","title":"Component Architecture","text":"<pre><code>- driver\n    - esp_rtc\n        - include\n            - esp_rtc.h\n        - esp_rtc.c\n        - CMakeLists.txt\n</code></pre>"},{"location":"DNESP32S3M/MAIN-CONTROL/RTC/code/#driveresp_rtccmakeliststxt","title":"driver/esp_rtc/CMakeLists.txt","text":"<pre><code>set(src_dirs\n    .\n)\n\nset(include_dirs\n    include\n)\n\nset(requires\n    newlib\n)\n\nidf_component_register(SRC_DIRS ${src_dirs} INCLUDE_DIRS ${include_dirs} REQUIRES ${requires})\n</code></pre> <p>Note</p> <p>Note that in the drivers, we used gpio from the ESP-IDF builtin <code>driver</code> library, therefore, we need to indicate this dependency in the <code>REQUIRES</code> field of the <code>CMakeLists.txt</code> file. </p>"},{"location":"DNESP32S3M/MAIN-CONTROL/RTC/code/#esp_rtch","title":"esp_rtc.h","text":"<pre><code>/**\n * @file esp_rtc.h\n * ! Do not name as rtc.h, as it will conflict with the built-in rtc.h\n * @author\n * @brief Header file for the RTC driver\n * @version 1.0\n * @date 2024-11-18\n * @ref Alienteck RTC Driver\n * @copyright Copyright (c) 2024\n *\n */\n\n#ifndef __ESP_RTC_H__\n#define __ESP_RTC_H__\n\n#include \"freertos/FreeRTOS.h\"\n#include \"freertos/task.h\"\n#include &lt;sys/time.h&gt;\n\n/* Time structure, including year, month, day, week, hour, minute, and second */\ntypedef struct\n{\n    uint8_t hour; /* Hour */\n    uint8_t min;  /* Minute */\n    uint8_t sec;  /* Second */\n    /* Gregorian year, month, day, and week */\n    uint16_t year; /* Year */\n    uint8_t month; /* Month */\n    uint8_t date;  /* Day */\n    uint8_t week;  /* Weekday */\n} _calendar_obj;\n\nextern _calendar_obj calendar; /* Time structure */\n\n/* Function declarations */\n/**\n * @brief       Set the RTC time\n * @param       year    : Year\n * @param       mon     : Month\n * @param       mday    : Day\n * @param       hour    : Hour\n * @param       min     : Minute\n * @param       sec     : Second\n * @retval      None\n */\nvoid rtc_set_time(int year, int mon, int mday, int hour, int min, int sec); /* Set time */\n\n/**\n * @brief       Get the current time\n * @param       None\n * @retval      None\n */\nvoid rtc_get_time(void); /* Get time */\n\n/**\n * @brief       Convert year, month, and day to the day of the week\n * @note        Calculates the weekday based on the Gregorian calendar.\n *              Utilizes the Kim Larson formula for calculation.\n *              For more details, refer to:\n *              https://www.cnblogs.com/fengbohello/p/3264300.html\n * @param       year : Year\n * @param       month: Month\n * @param       day  : Day\n * @retval      0: Sunday; 1 ~ 6: Monday ~ Saturday\n */\nuint8_t rtc_get_week(uint16_t year, uint8_t month, uint8_t day); /* Get the weekday */\n\n#endif /* __ESP_RTC_H__ */\n</code></pre>"},{"location":"DNESP32S3M/MAIN-CONTROL/RTC/code/#esp_rtcc","title":"esp_rtc.c","text":"<pre><code>/**\n * @file esp_rtc.c\n * ! Do not name as rtc.c, as it will conflict with the built-in rtc.c\n * @author\n * @brief This file contains the implementation of the RTC driver\n * @version 1.0\n * @date 2024-11-18\n * @ref Alienteck RTC Driver\n *\n */\n\n#include \"esp_rtc.h\"\n\n_calendar_obj calendar; /* Time structure */\n\n/**\n * @brief       Set the RTC time\n * @param       year    : Year\n * @param       mon     : Month\n * @param       mday    : Day\n * @param       hour    : Hour\n * @param       min     : Minute\n * @param       sec     : Second\n * @retval      None\n */\nvoid rtc_set_time(int year, int mon, int mday, int hour, int min, int sec)\n{\n    struct tm datetime;\n    /* Set time */\n    datetime.tm_year = year - 1900;\n    datetime.tm_mon = mon - 1;\n    datetime.tm_mday = mday;\n    datetime.tm_hour = hour;\n    datetime.tm_min = min;\n    datetime.tm_sec = sec;\n    datetime.tm_isdst = -1;\n    /* Get total seconds since 1970-01-01 */\n    time_t second = mktime(&amp;datetime);\n    struct timeval val = {.tv_sec = second, .tv_usec = 0};\n    /* Set current time */\n    settimeofday(&amp;val, NULL);\n}\n\n/**\n * @brief       Get the current time\n * @param       None\n * @retval      None\n */\nvoid rtc_get_time(void)\n{\n    struct tm *datetime;\n    time_t second;\n    /* Get the time elapsed since (1970-01-01 00:00:00 UTC) in seconds */\n    time(&amp;second);\n    datetime = localtime(&amp;second);\n\n    calendar.hour = datetime-&gt;tm_hour; /* Hour */\n    calendar.min = datetime-&gt;tm_min;   /* Minute */\n    calendar.sec = datetime-&gt;tm_sec;   /* Second */\n    /* Gregorian year, month, day, and week */\n    calendar.year = datetime-&gt;tm_year + 1900; /* Year */\n    calendar.month = datetime-&gt;tm_mon + 1;    /* Month */\n    calendar.date = datetime-&gt;tm_mday;        /* Day */\n    /* Weekday */\n    calendar.week = rtc_get_week(calendar.year, calendar.month, calendar.date);\n}\n\n/**\n * @brief       Convert year, month, and day to the day of the week\n * @note        Calculates the weekday based on the Gregorian calendar.\n *              Utilizes the Kim Larson formula for calculation.\n *              For more details, refer to:\n *              https://www.cnblogs.com/fengbohello/p/3264300.html\n * @param       year : Year\n * @param       month: Month\n * @param       day  : Day\n * @retval      0: Sunday; 1 ~ 6: Monday ~ Saturday\n */\nuint8_t rtc_get_week(uint16_t year, uint8_t month, uint8_t day)\n{\n    uint8_t week = 0;\n\n    if (month &lt; 3)\n    {\n        month += 12;\n        --year;\n    }\n\n    week = (day + 1 + 2 * month + 3 * (month + 1) / 5 + year + (year &gt;&gt; 2) - year / 100 + year / 400) % 7;\n    return week;\n}\n</code></pre>"},{"location":"DNESP32S3M/MAIN-CONTROL/RTC/code/#mainc","title":"main.c","text":"<pre><code>/**\n * @file main.c\n * @author SHUAIWEN CUI (SHUAIWEN001@e.ntu.edu.sg)\n * @brief\n * @version 1.0\n * @date 2024-11-17\n *\n * @copyright Copyright (c) 2024\n *\n */\n\n/* Dependencies */\n// Basic\n#include \"esp_system.h\"\n#include \"esp_chip_info.h\"\n#include \"esp_psram.h\"\n#include \"esp_flash.h\"\n#include \"nvs_flash.h\"\n#include \"esp_log.h\"\n\n// RTOS\n#include \"freertos/FreeRTOS.h\"\n#include \"freertos/task.h\"\n\n// BSP\n#include \"led.h\"\n#include \"exit.h\"\n#include \"esp_rtc.h\"\n\n/* Global variables */\nchar *weekdays[] = {\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\",\n                    \"Thursday\", \"Friday\", \"Saterday\"};\n\n/**\n * @brief Entry point of the program\n * @param None\n * @retval None\n */\nvoid app_main(void)\n{\n    esp_err_t ret;\n    uint8_t tbuf[40];\n    uint8_t t = 0;\n\n    ret = nvs_flash_init();\n\n    if (ret == ESP_ERR_NVS_NO_FREE_PAGES || ret == ESP_ERR_NVS_NEW_VERSION_FOUND)\n    {\n        ESP_ERROR_CHECK(nvs_flash_erase());\n        ret = nvs_flash_init();\n    }\n\n    led_init();\n    rtc_set_time(2025, 02, 18, 22, 23, 00);\n\n    while (1)\n    {\n        t++;\n\n        if ((t % 10) == 0)\n        {\n            rtc_get_time();\n            sprintf((char *)tbuf, \"Time:%02d:%02d:%02d\", calendar.hour, calendar.min, calendar.sec);\n            printf(\"Time:%02d:%02d:%02d\\r\\n\", calendar.hour, calendar.min, calendar.sec);\n            sprintf((char *)tbuf, \"Date:%04d-%02d-%02d\", calendar.year, calendar.month, calendar.date);\n            printf(\"Date:%02d-%02d-%02d\\r\\n\", calendar.year, calendar.month, calendar.date);\n            sprintf((char *)tbuf, \"Week:%s\", weekdays[calendar.week - 1]);\n        }\n\n        if ((t % 20) == 0)\n        {\n            led_toggle();\n        }\n\n        vTaskDelay(10);\n    }\n}\n</code></pre>"},{"location":"DNESP32S3M/MAIN-CONTROL/RTC/integration/","title":"INTEGRATION","text":""},{"location":"DNESP32S3M/MAIN-CONTROL/RTC/integration/#introduction","title":"Introduction","text":"<p>Note</p> <p>In this section, we introduce how to integrate the esp_rtcer driver into the project.</p>"},{"location":"DNESP32S3M/MAIN-CONTROL/RTC/integration/#create-a-new-component","title":"Create a New Component","text":"<p>Warning</p> <p>Before you create a component in the <code>driver</code> directory, make sure you have incorporated the <code>driver</code> directory into the project by adding the path to the <code>driver</code> directory to the <code>EXTRA_COMPONENT_DIRS</code> variable in the project-level <code>CMakeLists.txt</code> file.</p> <p>Open the project in VSCode, open the integrated terminal, and type in</p> <p><pre><code>get_idf \n</code></pre> to actiate the ESP-IDF environment. Then type in the following command to create a new component named esp_rtc`:</p> <pre><code>idf.py -C driver create-component esp_rtc\n</code></pre> <p>The command above means to create a new component named <code>esp_rtc</code> in the <code>driver</code> directory. After executing the command, you will see a new directory named <code>esp_rtc</code> in the <code>driver</code> directory. And the command will automatically generate the <code>CMakeLists.txt</code> file for the new component, as well as the <code>esp_rtc.h</code> and <code>esp_rtc.c</code> files.</p> <p>Alternatively, you can mannually create the <code>esp_rtc</code> directory in the <code>driver</code> directory, and then create the <code>CMakeLists.txt</code>, <code>esp_rtc.h</code>, and <code>esp_rtc.c</code> files in the <code>esp_rtc</code> directory.</p>"},{"location":"DNESP32S3M/MAIN-CONTROL/RTC/integration/#replace-the-code","title":"Replace the Code","text":"<p>Component Level</p> <p>Replace the code in this section into the <code>CMakelists.txt</code>, <code>esp_rtc.h</code>, and <code>esp_rtc.c</code> files under the component.</p> <p>Project Level</p> <p>Replace the code in <code>main.c</code> with the corresponding code. No need to change the <code>CMakeLists.txt</code> file at the project level.</p>"},{"location":"DNESP32S3M/MAIN-CONTROL/RTC/integration/#compile-and-flash-the-project","title":"Compile and Flash the Project","text":"<p>Open the project in VSCode, open the integrated terminal, and type in</p> <pre><code>idf.py build flash monitor\n</code></pre> <p>Now, you will see printout date and time from the serial monitor.</p>"},{"location":"DNESP32S3M/MAIN-CONTROL/RTC/note/","title":"RTC (Real Time Clock)","text":""},{"location":"DNESP32S3M/MAIN-CONTROL/RTC/note/#introduction","title":"Introduction","text":"<p>Note</p> <p>This chapter introduces the use of the ESP32-S3 real-time clock (RTC). The real-time clock can provide an accurate time for the system. Even if the system is reset or the main power is cut off, the RTC can still run (with battery)\uff09. Therefore, the RTC is often used in various low-power scenarios.</p> <p>Real Time Clock</p> <p>RTC (Real Time Clock) refers to a clock installed on an electronic device or an IC (integrated circuit) that implements its functions.</p> <p>When you call it a \"clock\" in digital circuits, you may think of a periodic signal, but in English, \"clock\" also means \"clock\". So why do we need a separate RTC?</p> <p>The reason is that the CPU's timer clock function only runs when it is \"started\" or \"powered on\" and stops when it is powered off. Of course, if the clock cannot continuously track time, you must manually set the time.</p> <p>Usually, the RTC is equipped with a separate power source, such as a button battery (backup battery). Even if the power of the DNESP32S3M minimum system board is turned off, it can still operate and display the time in real-time. Then, when the DNESP32S3M minimum system board is turned on again, the built-in timer clock of the computer reads the current time from the RTC and displays the time based on its own mechanism while being powered. By the way, since the button battery is relatively cheap and has a long service life, the RTC can operate at a very low cost. Based on this function, it can also be used as memory.</p> <p>Note</p> <p>In the ESP32-S3, there is no RTC peripheral like the STM32 chip, but there is a system time. By using the system time, the function of a real-time clock can also be realized. The ESP32-S3 uses two hardware clock sources to establish and maintain system time. Depending on the application purpose and the accuracy requirements of the system time, you can use only one of the clock sources or both clock sources at the same time. These two hardware clock sources are the RTC timer and the high-resolution timer. By default, both timers are used. We will introduce them one by one below.</p>"},{"location":"DNESP32S3M/MAIN-CONTROL/RTC/note/#use-cases","title":"Use Cases","text":"<ol> <li>Display the RTC time in real-time through the LCD / UART</li> <li>The LED blinks to indicate that the program is running</li> </ol>"},{"location":"DNESP32S3M/MAIN-CONTROL/RTC/note/#dependencies","title":"Dependencies","text":"<p>There is no dependency for this chapter.</p>"},{"location":"DNESP32S3M/MAIN-CONTROL/RTC/note/#key-functions","title":"Key Functions","text":"Function Prototype Explanation Example"},{"location":"DNESP32S3M/MAIN-CONTROL/TIMER/code/","title":"TIMER CODE","text":""},{"location":"DNESP32S3M/MAIN-CONTROL/TIMER/code/#component-architecture","title":"Component Architecture","text":"<pre><code>- driver\n    - tim\n        - include\n            - tim.h\n        - tim.c\n        - CMakeLists.txt\n</code></pre>"},{"location":"DNESP32S3M/MAIN-CONTROL/TIMER/code/#drivertimercmakeliststxt","title":"driver/timer/CMakeLists.txt","text":"<pre><code>set(src_dirs\n    .\n)\n\nset(include_dirs\n    include\n)\n\nset(requires\n    driver\n    esp_timer\n    led\n)\n\nidf_component_register(SRC_DIRS ${src_dirs} INCLUDE_DIRS ${include_dirs} REQUIRES ${requires})\n</code></pre> <p>Note</p> <p>Note that in the drivers, we used gpio from the ESP-IDF builtin <code>driver</code> library, therefore, we need to indicate this dependency in the <code>REQUIRES</code> field of the <code>CMakeLists.txt</code> file. Also, we use the LED to show the effect of the external interrupt, so we need to add <code>led</code> in the <code>REQUIRES</code> field. Apart from that, for timer, we need to add <code>esp_timer</code> in the <code>REQUIRES</code> field.</p>"},{"location":"DNESP32S3M/MAIN-CONTROL/TIMER/code/#timh","title":"tim.h","text":"<pre><code>/**\n * @file tim.h\n * @author SHUAIWEN CUI (SHUAIWEN001@e.ntu.edu.sg)\n * @brief This file contains the function prototypes for the TIM component.\n * @version 1.0\n * @date 2024-11-18\n *\n * @copyright Copyright (c) 2024\n *\n */\n\n#ifndef __TIM_H__\n#define __TIM_H__\n\n/* Dependencies */\n#include \"freertos/FreeRTOS.h\"\n#include \"freertos/task.h\"\n#include \"driver/gpio.h\"\n#include \"esp_tim.h\"\n#include \"led.h\"\n\n/* Function Prototypes */\n\n/**\n * @brief       Initialize a high-precision timer (ESP_TIMER)\n * @param       tps: Timer period in microseconds (\u03bcs). For example, to execute the timer interrupt once every second,\n *                   set tps = 1s = 1000000\u03bcs.\n * @retval      None\n */\nvoid esptim_int_init(uint64_t tps);\n\n/**\n * @brief       Timer callback function\n * @param       arg: No arguments passed\n * @retval      None\n */\nvoid esptim_callback(void *arg);\n\n#endif /*__TIM_H__*/\n</code></pre>"},{"location":"DNESP32S3M/MAIN-CONTROL/TIMER/code/#timc","title":"tim.c","text":"<pre><code>/**\n * @file tim.c\n * @author SHUAIWEN CUI (SHUAIWEN001@e.ntu.edu.sg)\n * @brief This file contains the implementation of the TIM component.\n * @version 1.0\n * @date 2024-11-18\n *\n * @copyright Copyright (c) 2024\n *\n */\n\n#include \"tim.h\"\n\n/**\n * @brief       Initialize a high-precision timer (ESP_TIMER)\n * @param       tps: Timer period in microseconds (\u03bcs). For example, to execute the timer interrupt once every second,\n *                   set tps = 1s = 1000000\u03bcs.\n * @retval      None\n */\nvoid esptim_int_init(uint64_t tps)\n{\n    esp_timer_handle_t esp_tim_handle; /* Timer callback function handle */\n\n    /* Define a timer configuration structure */\n    esp_timer_create_args_t tim_periodic_arg = {\n        .callback = &amp;esptim_callback, /* Set the callback function */\n        .arg = NULL,                  /* No arguments passed */\n    };\n\n    esp_timer_create(&amp;tim_periodic_arg, &amp;esp_tim_handle); /* Create a timer event */\n    esp_timer_start_periodic(esp_tim_handle, tps);        /* Trigger periodically based on the timer period */\n}\n\n/**\n * @brief       Timer callback function\n * @param       arg: No arguments passed\n * @retval      None\n */\nvoid esptim_callback(void *arg)\n{\n    led_toggle();\n}\n</code></pre>"},{"location":"DNESP32S3M/MAIN-CONTROL/TIMER/code/#mainc","title":"main.c","text":"<pre><code>/**\n * @file main.c\n * @author SHUAIWEN CUI (SHUAIWEN001@e.ntu.edu.sg)\n * @brief \n * @version 1.0\n * @date 2024-11-17\n * \n * @copyright Copyright (c) 2024\n * \n */\n\n/* Dependencies */\n// Basic\n#include \"esp_system.h\"\n#include \"esp_chip_info.h\"\n#include \"esp_psram.h\"\n#include \"esp_flash.h\"\n#include \"nvs_flash.h\"\n#include \"esp_log.h\"\n\n// RTOS\n#include \"freertos/FreeRTOS.h\"\n#include \"freertos/task.h\"\n\n// BSP\n#include \"led.h\"\n#include \"exit.h\"\n#include \"tim.h\"\n\n/**\n * @brief Entry point of the program\n * @param None\n * @retval None\n */\nvoid app_main(void)\n{\n    esp_err_t ret;\n    uint32_t flash_size;\n    esp_chip_info_t chip_info;\n\n    // uint8_t key;\n\n    // Initialize NVS\n    ret = nvs_flash_init();\n    if (ret == ESP_ERR_NVS_NO_FREE_PAGES || ret == ESP_ERR_NVS_NEW_VERSION_FOUND)\n    {\n        ESP_ERROR_CHECK(nvs_flash_erase()); // Erase if needed\n        ret = nvs_flash_init();\n    }\n\n    // Get FLASH size\n    esp_flash_get_size(NULL, &amp;flash_size);\n    esp_chip_info(&amp;chip_info);\n\n    // Display CPU core count\n    printf(\"CPU Cores: %d\\n\", chip_info.cores);\n\n    // Display FLASH size\n    printf(\"Flash size: %ld MB flash\\n\", flash_size / (1024 * 1024));\n\n    // Display PSRAM size\n    printf(\"PSRAM size: %d bytes\\n\", esp_psram_get_size());\n\n    // BSP\n    led_init();\n\n    // key_init();\n    exit_init();\n    esptim_int_init(1000000); // 1s enable timer, of which the callback function toggles the LED\n\n    while (1)\n    {\n        printf(\"Hello-ESP32\\r\\n\");\n        vTaskDelay(1000);\n    }\n\n}\n</code></pre>"},{"location":"DNESP32S3M/MAIN-CONTROL/TIMER/integration/","title":"INTEGRATION","text":""},{"location":"DNESP32S3M/MAIN-CONTROL/TIMER/integration/#introduction","title":"Introduction","text":"<p>Note</p> <p>In this section, we introduce how to integrate the timer driver into the project.</p>"},{"location":"DNESP32S3M/MAIN-CONTROL/TIMER/integration/#create-a-new-component","title":"Create a New Component","text":"<p>Warning</p> <p>Before you create a component in the <code>driver</code> directory, make sure you have incorporated the <code>driver</code> directory into the project by adding the path to the <code>driver</code> directory to the <code>EXTRA_COMPONENT_DIRS</code> variable in the project-level <code>CMakeLists.txt</code> file.</p> <p>Open the project in VSCode, open the integrated terminal, and type in</p> <p><pre><code>get_idf \n</code></pre> to actiate the ESP-IDF environment. Then type in the following command to create a new component named tim`:</p> <pre><code>idf.py -C driver create-component tim\n</code></pre> <p>The command above means to create a new component named tim<code>in the</code>driver<code>directory. After executing the command, you will see a new directory named tim</code> in the <code>driver</code> directory. And the command will automatically generate the <code>CMakeLists.txt</code> file for the new component, as well as the <code>tim.h</code> and <code>tim.c</code> files.</p> <p>Alternatively, you can mannually create the tim<code>directory in the</code>driver<code>directory, and then create the</code>CMakeLists.txt<code>,</code>tim.h<code>, and</code>tim.c<code>files in the tim</code> directory.</p>"},{"location":"DNESP32S3M/MAIN-CONTROL/TIMER/integration/#replace-the-code","title":"Replace the Code","text":"<p>Component Level</p> <p>Replace the code in this section into the <code>CMakelists.txt</code>, <code>tim.h</code>, and <code>tim.c</code> files under the component.</p> <p>Project Level</p> <p>Replace the code in <code>main.c</code> with the corresponding code. No need to change the <code>CMakeLists.txt</code> file at the project level.</p>"},{"location":"DNESP32S3M/MAIN-CONTROL/TIMER/integration/#compile-and-flash-the-project","title":"Compile and Flash the Project","text":"<p>Open the project in VSCode, open the integrated terminal, and type in</p> <pre><code>idf.py build flash monitor\n</code></pre> <p>Now, you will see the LED blinks at the interval of 1s, which is set by the timer period.</p>"},{"location":"DNESP32S3M/MAIN-CONTROL/TIMER/note/","title":"TIMER","text":""},{"location":"DNESP32S3M/MAIN-CONTROL/TIMER/note/#introduction","title":"Introduction","text":"<p>This document introduces the use of the ESP32 timer.</p> <p>Timer</p> <p>The timer is an integrated function of the microcontroller, which can be flexibly controlled by programming. The timing function of the microcontroller depends on the internal counter. Whenever the microcontroller experiences a machine cycle and generates a pulse, the counter will increase. The main function of the timer is to time. When the set time is reached, it will trigger an interrupt to notify the system that the timing is complete. In the interrupt service function, we can write specific programs to achieve the desired function.</p> <p>What can a timer do</p> <ul> <li> <p>Execute scheduled tasks: Timers are often used to periodically execute specific tasks. For example, if a task needs to be executed every 500 milliseconds, the timer can accurately meet this requirement.</p> </li> <li> <p>Time measurement: The timer can accurately measure time, whether it is the execution time of a code segment or the interval time of an event, it can be accurately measured by the timer.</p> </li> <li> <p>Accurate delay: For delay scenarios that require microsecond accuracy, the timer can provide a reliable   solution to ensure the accuracy of the delay.</p> </li> <li> <p>PWN signal generation: Through the precise control of the timer, we can generate PWM (pulse width modulation) signals, which is crucial for applications such as driving motors and adjusting LED brightness.</p> </li> <li> <p>Event triggering and monitoring: The timer is not only used to trigger interrupts and implement event-driven logic, but also to implement watchdog functions, monitor system status, and perform reset operations when necessary to ensure stable operation of the system.</p> </li> </ul> <p>Types of Timers</p> <p>Timers can be implemented either in hardware or software, each with its unique characteristics suited for different scenarios:</p> <p>Hardware Timers rely on the built-in hardware mechanisms of microcontrollers, utilizing dedicated timing/counter circuits to achieve timing functionality. Their key advantages are high precision and reliability because hardware timers operate independently of software tasks and operating system scheduling, remaining unaffected by them. In scenarios demanding extremely high timing accuracy, such as generating PWM signals or performing precise time measurements, hardware timers are undoubtedly the best choice. Their design ensures that even if the main CPU is occupied with other tasks, the timer can still accurately trigger the designated operation at the preset time.</p> <p>Software Timers, on the other hand, simulate timing functionality through the operating system or software libraries. The performance of these timers is affected by the system's current load and task scheduling strategies, resulting in slightly lower precision compared to hardware timers. However, software timers excel in flexibility, allowing the creation of numerous timers, making them ideal for scenarios where strict timing control is not required. It is important to note that software timers may encounter timing accuracy issues, especially under heavy system loads or when there are many high-priority tasks. Nevertheless, for simple delays where high precision is not critical, software timers are typically sufficient to meet the requirements.</p>"},{"location":"DNESP32S3M/MAIN-CONTROL/TIMER/note/#esp32-s3-timer-overview","title":"ESP32-S3 Timer Overview","text":"<p>The system timer has two built-in counters UNIT0 and UNIT1 (as shown in the figure) and three comparators COMP0, COMP1, and COMP2 (as shown in the figure). The comparators are used to monitor whether the counter's count value reaches the alarm value.</p> <p>(1) Counter</p> <p>UNIT0 and UNIT1 are 52-bit counters built into the ESP32-S3 system timer. The counters use XTAL_CLK as the clock source (40MHz). After XTAL_CLK is divided, a clock signal with a frequency of fXTAL_CLK/3 is generated in one counting cycle, and then a clock signal with a frequency of fXTAL_CLK/2 is generated in another counting cycle. Therefore, the clock CNT_CLK used by the counter has an actual average frequency of fXTAL_CLK/2.5, which is 16MHz, as shown in Figure 14.1.2. For each CNT_CLK clock cycle, the count increases by 1/16\u00b5s, that is, 16 cycles increase by 1\u00b5s. Users can control the counter UNITn by configuring the following three bits in register SYSTIMER_CONF_REG. These three bits are: \u2460: SYSTIMER_TIMER_UNITn_WORK_EN \u2461: SYSTIMER_TIMER_UNITn_CORE0_STALL_EN \u2462: SYSTIMER_TIMER_UNITn_CORE1_STALL_EN For the configuration of these three bits, please refer to the \"esp32-s3_technical_reference_manual_en\".</p> <p>(2) Comparator</p> <p>COMP0, COMP1, and COMP2 are 52-bit comparators built into the ESP32-S3 system timer. The comparators also use XTAL_CLK as the clock source (40MHz).</p> <p></p> <p>The above figure shows the process of the system timer generating an alarm. In the above process, a counter (Timer Countern) and a comparator (Timer Comparatorx) are used to generate an alarm interrupt based on the comparison result.</p>"},{"location":"DNESP32S3M/MAIN-CONTROL/TIMER/note/#use-case","title":"Use Case","text":"<p>Let's design a program that configures a high-resolution timer to enable interrupts and toggle the LED status in the interrupt callback function. Since we are using on-board resources, no wiring is required.</p>"},{"location":"DNESP32S3M/MAIN-CONTROL/TIMER/note/#dependencies","title":"Dependencies","text":""},{"location":"DNESP32S3M/MAIN-CONTROL/TIMER/note/#key-functions","title":"Key Functions","text":"Function Prototype Explanation Example void esptim_int_init(uint64_t tps); Initialize a high-precision timer (ESP_TIMER) exit_init(); void esptim_callback(void *arg); Timer callback function exit_callback(); esp_err_t esp_timer_create(const esp_timer_create_args_t* args, esp_timer_handle_t* out_handle) Create a new timer esp_timer_create(&amp;tim_periodic_arg, &amp;esp_tim_handle); esp_err_t IRAM_ATTR esp_timer_start_periodic(esp_timer_handle_t timer, uint64_t period_us) Start a periodic timer esp_timer_start_periodic(esp_tim_handle, tps);"},{"location":"DNESP32S3M/MAIN-CONTROL/TIMER/note/#summary","title":"Summary","text":"<p>Note</p> <p>This chapter introduces the use of ESP32 timers. By designing a program, the configuration of high-resolution timers is realized, interrupts are enabled, and the state of LEDs is flipped in the interrupt callback function. Several key points:</p> <ul> <li> <p>How to add timer files to the project, source files, header files, path dependencies, etc.</p> </li> <li> <p>How to construct the timer initialization function.</p> </li> <li> <p>How to construct the timer callback function.</p> </li> <li> <p>How to call the timer initialization function at the application layer.</p> </li> </ul>"},{"location":"DNESP32S3M/PERCEPTION/perception/","title":"PERCEPTION","text":""},{"location":"DNESP32S3M/PROJECT/project/","title":"PROJECT CONSTRUCTION","text":""},{"location":"DNESP32S3M/PROJECT/project/#project-level-cmakeliststxt","title":"PROJECT-LEVEL CMakelists.txt","text":"<pre><code># The following five lines of boilerplate have to be in your project's\n# CMakeLists in this exact order for cmake to work correctly\ncmake_minimum_required(VERSION 3.16)\n\ninclude($ENV{IDF_PATH}/tools/cmake/project.cmake)\n\nset(EXTRA_COMPONENT_DIRS \"./driver\" \"./middleware\" \"./application\")\n\nproject(DNESP32S3-CORE)\n</code></pre> <p>Note</p> <p>To be consistent with the project code architecture introduced previously, we recommend that you create a <code>driver</code>, <code>middleware</code>, and <code>application</code> directory in the project root directory and place the corresponding code in the corresponding directory. To incorporate these directories into the project, you need to add the path to these directories to the <code>EXTRA_COMPONENT_DIRS</code> variable in the project-level <code>CMakeLists.txt</code> file.</p> <p>Danger</p> <p>Must note that <code>set(EXTRA_COMPONENT_DIRS \"./driver\" \"./middleware\" \"./application\")</code> should be placed before <code>project(DNESP32S3-CORE)</code>. Otherwise, the project will not be able to find the components in the directories. Refer to LINK.</p>"},{"location":"DNESP32S3M/PROJECT/project/#main-foldeer-cmakeliststxt","title":"MAIN FOLDEER CMakelists.txt","text":"<pre><code># Define source directories\nset(src_dirs\n    .\n)\n\n# Define include directories\nset(include_dirs\n    .\n)\n\n# Define required components\nset(requires\n)\n\n# Register the component\nidf_component_register(\n    SRC_DIRS ${src_dirs}\n    INCLUDE_DIRS ${include_dirs}\n    REQUIRES ${requires}\n)\n\n# Add compilation options\n# component_compile_options(-ffast-math -O3 -Wno-error=format -Wno-format)\n</code></pre>"},{"location":"FKH743M2-IIT6/fkh743m2-iit6/","title":"FANKE TECH FKH743M2-IIT6","text":"<p>\ud83d\udcc6</p>"},{"location":"KICK_START/kick_start/","title":"KICK START","text":""},{"location":"KICK_START/ESP32/ENVIRONMENT/environment/","title":"ESP32 DEVELOPMENT ENVIRONMENT SETUP","text":"<p>Tip</p> <p>You are strongly recommended to read the official guide for setting up the development environment before proceeding. The official guide can be found here. </p> <p>Note</p> <p>To start using ESP-IDF on ESP32, install the following software:</p> <ul> <li> <p>Toolchain to compile code for ESP32</p> </li> <li> <p>Build tools - CMake and Ninja to build a full Application for ESP32</p> </li> <li> <p>ESP-IDF that essentially contains API (software libraries and source code) for ESP32 and scripts to  operate the Toolchain</p> </li> </ul> <p></p> <p>Note</p> <p>There are two ways for ESP32 ESP-IDF programming:</p> <ul> <li> <p>Command Line Interface (CLI): fundamental for ESP-IDF programming</p> </li> <li> <p>IDE: easier for beginners</p> </li> </ul>"},{"location":"KICK_START/ESP32/ENVIRONMENT/environment/#windows","title":"WINDOWS","text":""},{"location":"KICK_START/ESP32/ENVIRONMENT/environment/#cli","title":"CLI","text":"<ul> <li> <p> How to Install the ESP-IDF Toolchain on Windows (CLI)</p> <p>  Portal </p> </li> </ul>"},{"location":"KICK_START/ESP32/ENVIRONMENT/environment/#ide","title":"IDE","text":"<ul> <li> <p> How to Install the ESP-IDF Toolchain on Windows (VSCode)</p> <p>  Portal </p> </li> </ul>"},{"location":"KICK_START/ESP32/ENVIRONMENT/environment/#linux","title":"LINUX","text":"<p>Tip</p> <p>ESP-IDF is much faster on Linux than on Windows. It is recommended to use Linux for ESP-IDF development.</p>"},{"location":"KICK_START/ESP32/ENVIRONMENT/environment/#cli_1","title":"CLI \ud83c\udfaf","text":"<p>Note</p> <p>There are a total of five steps:</p> <ul> <li> <p>Step 1: Installation Preparation</p> </li> <li> <p>Step 2: Get ESP-IDF</p> </li> <li> <p>Step 3: Set up the Toolchain</p> </li> <li> <p>Step 4: Set up the Build System</p> </li> <li> <p>Step 5: Start Using</p> </li> </ul>"},{"location":"KICK_START/ESP32/ENVIRONMENT/environment/#step-1-installation-preparation","title":"Step 1 - Installation Preparation","text":"<ul> <li>UBUNTU &amp; DEBIAN</li> </ul> <pre><code>sudo apt-get install git wget flex bison gperf python3 python3-pip python3-venv cmake ninja-build ccache libffi-dev libssl-dev dfu-util libusb-1.0-0\n</code></pre> <ul> <li>CENTOS</li> </ul> <pre><code>sudo yum -y update &amp;&amp; sudo yum install git wget flex bison gperf python3 python3-setuptools cmake ninja-build ccache dfu-util libusbx\n</code></pre>"},{"location":"KICK_START/ESP32/ENVIRONMENT/environment/#step-2-get-esp-idf","title":"Step 2 - Get ESP-IDF","text":"<p>Before building applications around the ESP32, obtain the ESP-IDF repository, the software library files provided by Espressif.</p> <p>To get a local copy of ESP-IDF, open the terminal, navigate to the working directory where you want to save ESP-IDF, and clone the remote repository using git clone. See detailed steps for different operating systems below.</p> <p>Open the terminal and run the following commands:</p> <p><pre><code>mkdir -p ~/esp\ncd ~/esp\ngit clone --recursive https://github.com/espressif/esp-idf.git\n</code></pre> ESP-IDF will be downloaded to <code>~/esp/esp-idf</code>.</p> <p>Visit the ESP-IDF Version Overview to check specific applicable scenarios for different ESP-IDF versions.</p>"},{"location":"KICK_START/ESP32/ENVIRONMENT/environment/#step-3-set-up-the-toolchain","title":"Step 3 - Set Up the Toolchain","text":"<p>Besides ESP-IDF itself, various tools used by ESP-IDF, such as compilers, debuggers, and Python packages, must also be installed to support ESP32 projects. <pre><code>cd ~/esp/esp-idf\n./install.sh all\n</code></pre></p>"},{"location":"KICK_START/ESP32/ENVIRONMENT/environment/#step-4-set-up-the-environment-variables","title":"Step 4 - Set Up the Environment Variables","text":"<p>At this stage, the tools you just installed are not yet added to the PATH environment variable, so they cannot be used from the command line. Therefore, some environment variables must be set. This can be done using another script provided by ESP-IDF.</p> <p>Run the following command in the terminal where you need to use ESP-IDF:</p> <pre><code>. $HOME/esp/esp-idf/export.sh\n</code></pre> <p>If you frequently use ESP-IDF, you can create an alias for running export.sh as follows:</p> <p>(1) Open the shell configuration file</p> <pre><code>nano ~/.bashrc\n</code></pre> <p>(2) Copy and paste the following command into your shell configuration file.</p> <pre><code>alias get_idf='. $HOME/esp/esp-idf/export.sh'\n</code></pre> <p>(3) Refresh the configuration file by restarting the terminal or by running <code>source [path to profile]</code>, such as <code>source ~/.bashrc</code>.</p> <p>You can now run <code>get_idf</code> in any terminal window to set up or refresh the ESP-IDF environment.</p> <p>It is not recommended to add <code>export.sh</code> directly to the shell configuration file, as this will activate the IDF virtual environment in every terminal session, including those where ESP-IDF is not needed. This goes against the purpose of using a virtual environment and may interfere with other software.</p>"},{"location":"KICK_START/ESP32/ENVIRONMENT/environment/#ide_1","title":"IDE","text":"<ul> <li> <p> How to Install the ESP-IDF Toolchain on Ubuntu \ud83c\udfaf\ud83c\udfc6\u2705</p> <p>  Portal </p> </li> </ul>"},{"location":"KICK_START/ESP32/ENVIRONMENT/environment/#uninstalling-esp-idf","title":"Uninstalling ESP-IDF","text":"<p>(1) Delete the <code>esp</code> directory.</p> <p>First, navigate to the directory where you cloned the ESP-IDF repository and delete the <code>esp</code> directory, typically at <code>~/esp/esp-idf</code>.</p> <pre><code>rm -rf ~/esp/esp-idf\n</code></pre> <p>(2) Remove the toolchain.</p> <p>If you installed the toolchain using the <code>install.sh</code> script, typically in <code>~/.espressif</code>, you can remove it by running the following command:</p> <pre><code>rm -rf ~/.espressif\n</code></pre> <p>(3) Remove the environment variables.</p> <p>If you added an alias to quickly load the ESP-IDF environment variables in your shell configuration file (e.g., <code>~/.bashrc</code> or <code>~/.zshrc</code>), you need to edit these configuration files and remove the alias. You can open and edit the file using the following command:</p> <pre><code>nano ~/.bashrc\n</code></pre> <p>(4) Refresh the configuration file.</p> <p>After removing the alias, refresh the configuration file by running the following command:</p> <pre><code>source ~/.bashrc\n</code></pre>"},{"location":"KICK_START/ESP32/ENVIRONMENT/environment/#vscode-esp-idf-plugin","title":"VSCode ESP-IDF Plugin","text":"<p>Note</p> <p>This is currently one of the most popular ways to develop with ESP-IDF. VSCode is a lightweight code editor that supports multiple programming languages, including C/C++. The ESP-IDF plugin provides full support for ESP-IDF in VSCode, including features like code autocompletion, debugging, building, and flashing.</p> <ol> <li> <p>Install VSCode</p> <p>First, you need to install VSCode. You can download the installer for your operating system here.</p> </li> <li> <p>Install the ESP-IDF Plugin</p> <p>To install the ESP-IDF plugin, follow these steps:</p> <ul> <li>Open VSCode.</li> <li>Click the Extensions icon on the left sidebar.</li> <li>Type \u201cESP-IDF\u201d in the search bar.</li> <li>Click the \u201cInstall\u201d button.</li> </ul> </li> <li> <p>Configure ESP-IDF Path and ESP-IDF Tools Path</p> <p>After installing the ESP-IDF plugin, you need to configure the ESP-IDF path and ESP-IDF tools path. These paths tell the plugin where to find ESP-IDF and its related tools.</p> <ul> <li>Open VSCode.</li> <li>Click the \u201cSettings\u201d icon in the lower left corner.</li> <li>Type \u201cESP-IDF\u201d in the search bar.</li> <li>Enter the paths for ESP-IDF and ESP-IDF tools in the \u201cESP-IDF Path\u201d and \u201cESP-IDF Tools Path\u201d fields. (If they are not already installed, the plugin will automatically download them once the paths are set.)</li> <li>Save the settings.</li> </ul> </li> <li> <p>Create a New Project</p> </li> </ol>"},{"location":"KICK_START/ESP32/HANDS-ON/hands-on/","title":"HANDS ON","text":""},{"location":"KICK_START/ESP32/HANDS-ON/hands-on/#program-preparation","title":"Program Preparation","text":"<p>Find some programs for testing, here, I use the following repository: </p> <pre><code>git clone --recursive https://gitee.com/vi-iot/esp32-board.git\n</code></pre>"},{"location":"KICK_START/ESP32/HANDS-ON/hands-on/#hardware-preparation","title":"Hardware Preparation","text":"<p>Connect the ESP32 development board to the computer</p>"},{"location":"KICK_START/ESP32/HANDS-ON/hands-on/#select-a-program","title":"Select a Program","text":"<p>Enter the repository <code>esp32-board</code> we just downloaded, find a program, such as <code>helloworld</code>, enter the directory:</p> <pre><code>cd esp32-board\ncd helloworld\n</code></pre>"},{"location":"KICK_START/ESP32/HANDS-ON/hands-on/#set-the-development-board-type","title":"Set the Development Board Type","text":"<p>ESP32 Environment Issue</p> <p>Type in <code>get_idf</code> to call the ESP32 environment if you are not currently in the ESP32 environment. Note that, the use of <code>get_idf</code> is only available after you properly set up the alias in the SHELL as indicated in the last tutorial.</p> <p>If it is a general ESP32 development board, you can ignore this step, but if it is another development board, it is better to specify the development board type, such as esp32-s3:</p> <pre><code>idf.py set-target esp32s3\n</code></pre>"},{"location":"KICK_START/ESP32/HANDS-ON/hands-on/#compile-the-program","title":"Compile the Program","text":"<pre><code>idf.py build\n</code></pre>"},{"location":"KICK_START/ESP32/HANDS-ON/hands-on/#flash-the-program","title":"Flash the Program","text":"<pre><code>idf.py flash\n</code></pre> <p>Note that you can view the USB port where the device is located:</p> <pre><code>ls /dev/tty*\n</code></pre> <p>By comparing the linked/non-linked, find the port where the device is located, such as <code>/dev/ttyACM1</code>, and then flash the program:</p> <pre><code>idf.py -p /dev/ttyACM1 flash\n</code></pre>"},{"location":"KICK_START/ESP32/HANDS-ON/hands-on/#monitor-the-program-running","title":"Monitor the Program Running","text":"<pre><code>idf.py monitor\n</code></pre> <p>or you can use a specific port</p> <pre><code>idf.py -p /dev/ttyACM1 monitor\n</code></pre>"},{"location":"KICK_START/ESP32/HANDS-ON/hands-on/#exit-monitoring","title":"Exit Monitoring","text":"<p>Press <code>Ctrl + ]</code> to exit monitoring</p>"},{"location":"KICK_START/ESP32/HARDWARE/hardware/","title":"HARDWARE","text":"<p>Alientek DNESP32S3M Main Control Board</p> <p></p> <p></p> <p>Alientek DNESP32S3 Development Board</p> <p></p> <p></p> <p></p> <p></p> <p>DNESP32S3M/DNESP32S3</p> <p>The hardware platform used in this document is the DNESP32S3M/DNESP32S3 from Alientek\uff0c which is based on ESP32-S3, as shown in the figure above. It should be possible to migrate the relevant programs to other development boards, but adaptation should be made according to the actual situation.</p> <p>DNESP32S3M/DNESP32S3 Hardware Features</p> <p>ESP32-S3 is a system on a chip that integrates the following features:</p> <ul> <li> <p>Wi-Fi (2.4 GHz band)</p> </li> <li> <p>Bluetooth Low Energy</p> </li> <li> <p>Dual high performance Xtensa\u00ae 32-bit LX7 CPU cores</p> </li> <li> <p>Ultra Low Power co-processor running either RISC-V or FSM core</p> </li> <li> <p>Multiple peripherals</p> </li> <li> <p>Built-in security hardware</p> </li> <li> <p>USB OTG interface</p> </li> <li> <p>USB Serial/JTAG Controller</p> </li> </ul> <p>Powered by 40 nm technology, ESP32-S3 provides a robust, highly integrated platform, which helps meet   the continuous demands for efficient power usage, compact design, security, high performance, and     reliability.</p> <p>Espressif provides basic hardware and software resources to help application developers realize their   ideas using the ESP32-S3 series hardware. The software development framework by Espressif is intended     for development of Internet-of-Things (IoT) applications with Wi-Fi, Bluetooth, power management and    several other system features.</p> <p>Note</p> <p>To start programming, you need:</p> <ul> <li> <p>A computer with a USB port</p> </li> <li> <p>A USB cable</p> </li> <li> <p>A DNESP32S3M/DNESP32S3 development board or other ESP32 development board</p> </li> </ul>"},{"location":"KICK_START/ESP32/TEMPLATE/template/","title":"TEMPLATE PROJECT BUILDING-UP","text":""},{"location":"KICK_START/ESP32/TEMPLATE/template/#environment-setup","title":"ENVIRONMENT SETUP","text":"<p>Info</p> <p>We use VSCode + ESP-IDF for development. Details to setup the development environment can be found on the internet. I assume you have already set up the development environment.</p>"},{"location":"KICK_START/ESP32/TEMPLATE/template/#create-a-new-project","title":"CREATE A NEW PROJECT","text":"<ol> <li>Launch VSCode and then open the command palette by pressing <code>Ctrl+Shift+P</code> (Windows/Linux) or <code>Cmd+Shift+P</code> (macOS).</li> <li>Type <code>ESP-IDF: New Project</code> and press <code>Enter</code>. </li> <li>Enter the project configuration UI and fill in the required information. </li> <li>Choose a template to create a new project. </li> <li>Open in a new window.  </li> </ol>"},{"location":"KICK_START/ESP32/TEMPLATE/template/#templated-project-structure","title":"TEMPLATED PROJECT STRUCTURE","text":"<pre><code>sample_proj/ # Project root directory\n\u251c\u2500\u2500 CMakeLists.txt # Project CMake configuration file\n\u251c\u2500\u2500 main/ # Main application directory\n\u2502   \u251c\u2500\u2500 CMakeLists.txt # Application CMake configuration file\n\u2502   \u2514\u2500\u2500 main.c # Application source file\n\u2514\u2500\u2500 sdkconfig # Project configuration file\n</code></pre>"},{"location":"KICK_START/ESP32/TEMPLATE/template/#project-configuration","title":"PROJECT CONFIGURATION","text":"<p>Note</p> <p>This step is to configure the project settings to maximize the power of the hardware, i.e., use target-specific configurations rather than default configurations.</p> <p>Warning</p> <p>Before you open the project configuration UI, make sure you have the project open in VSCode, set the target to your board, and have the ESP-IDF extension installed.</p> <ol> <li>Enter the project configuration UI by pressing <code>Ctrl+Shift+P</code> (Windows/Linux) or <code>Cmd+Shift+P</code> (macOS) and type <code>ESP-IDF: Configure Project</code>. Alternatively, one can click the gear icon on the bottom menu of the VSCode window. </li> <li>'FLASH' configuration. In the search bar, type <code>flash</code> and press <code>Enter</code>.  </li> <li>'Partition Table' configuration. In the search bar, type <code>partition</code> and press <code>Enter</code>.  details to be provided later</li> <li>'PSRAM' configuration. In the search bar, type <code>psram</code> and press <code>Enter</code>. </li> <li>Change the CPU frequency. In the search bar, type <code>cpu</code> and press <code>Enter</code>. Modify the CPU frequency to 240 MHz. </li> <li>Modify the FreeRTOS tick clock frequency. In the search bar, type <code>tick</code> and press <code>Enter</code>. Modify the tick clock frequency to 1000 Hz. </li> <li>Modify the partition table. In the command palette, type <code>ESP-IDF: Open Partition Table Editor UI</code>. </li> <li>Modify the partition table as shown below. </li> <li>Save the all the modifications.</li> </ol> <p>By far, we have finished the project initialization. The configuration is now consistent with the hardware onboard resources. </p>"},{"location":"KICK_START/ESP32/TEMPLATE/template/#template-program","title":"TEMPLATE PROGRAM","text":"<p>Now, let's create a simple program to test the board. </p> <p>Go to the main.c file and the default content is:</p> <p><pre><code>#include &lt;stdio.h&gt;\n\nvoid app_main(void)\n{\n\n}\n</code></pre> replace the content with the following code:</p> <pre><code>#include \"freertos/FreeRTOS.h\"\n#include \"freertos/task.h\"\n#include \"nvs_flash.h\"\n#include \"esp_system.h\"\n#include \"esp_chip_info.h\"\n#include \"esp_psram.h\"\n#include \"esp_flash.h\"\n\n/**\n * @brief Entry point of the program\n * @param None\n * @retval None\n */\nvoid app_main(void)\n{\n    esp_err_t ret;\n    uint32_t flash_size;\n    esp_chip_info_t chip_info;\n\n    // Initialize NVS\n    ret = nvs_flash_init();\n    if (ret == ESP_ERR_NVS_NO_FREE_PAGES || ret == ESP_ERR_NVS_NEW_VERSION_FOUND)\n    {\n        ESP_ERROR_CHECK(nvs_flash_erase()); // Erase if needed\n        ret = nvs_flash_init();\n    }\n\n    // Get FLASH size\n    esp_flash_get_size(NULL, &amp;flash_size);\n    esp_chip_info(&amp;chip_info);\n\n    // Display CPU core count\n    printf(\"CPU Cores: %d\\n\", chip_info.cores);\n\n    // Display FLASH size\n    printf(\"Flash size: %ld MB flash\\n\", flash_size / (1024 * 1024));\n\n    // Display PSRAM size\n    printf(\"PSRAM size: %d bytes\\n\", esp_psram_get_size());\n\n    while (1)\n    {\n        printf(\"Hello-ESP32\\r\\n\");\n        vTaskDelay(1000);\n    }\n}\n</code></pre> <p>Then, ensure the serial port number is corrrect, the target board is selected, then click the \"fire flame\" icon to build, flash and monitor the program. Then, you should be able to see the printouts on the serial monitor. </p>"},{"location":"KICK_START/ESP32/TEMPLATE/template/#conclusions","title":"CONCLUSIONS","text":"<p>Note</p> <p>This project sets up the minimal system development board DNESP32S3M/DNESP32S3, and this project can serve as a useful template for future development. Compared to STM32, many low level details are hidden from the user, therefore the set up process is much simpler.</p> <p>Tip</p> <p>This template is applicable to both DNESP32S3M and DNESP32S3.</p>"},{"location":"KICK_START/STM32/stm32/","title":"STM32","text":"<p>Coming Soon ... Please Refer the Following Repository First:</p> <ul> <li> <p> MCU_NODE_STM32\ud83c\udfaf\ud83c\udfc6</p> <p>MCU IoT Node with High Performance Edge Computing, Based on STM32</p> <p>  Portal </p> </li> </ul>"},{"location":"RELEASE/release/","title":"RELEASE","text":""},{"location":"RELEASE/release/#code-repository","title":"CODE REPOSITORY","text":"<ul> <li> <p> NexNode</p> <p>  Portal </p> </li> </ul>"},{"location":"RELEASE/release/#release-note","title":"RELEASE NOTE","text":"MCU Target Device Folder Last Update Note ESP32 DNESP32S3M CODE-ESP32-DNESP32S3M Feb 17, 2025 \ud83c\udfd7\ufe0f ESP32 DNESP32S3 CODE-ESP32-DNESP32S3 Feb 17, 2025 \ud83c\udfd7\ufe0f STM32 FKH743M2-IIT6 CODE-STM32-FKH743M2-IIT6 Feb 17, 2025 \ud83d\udcc6"},{"location":"ROADMAP/roadmap/","title":"ROADMAP","text":""},{"location":"ROADMAP/roadmap/#architecture","title":"ARCHITECTURE","text":""},{"location":"ROADMAP/roadmap/#layered-architecture","title":"LAYERED ARCHITECTURE","text":"<pre><code>+------------------------------+\n| APPLICATION                  |\n+------------------------------+\n| MIDDLEWARE                   |\n+------------------------------+\n| DRIVERS                      |\n+------------------------------+\n| HARDWARE                     |\n+------------------------------+\n</code></pre>"},{"location":"ROADMAP/roadmap/#system-of-systems","title":"SYSTEM OF SYSTEMS","text":"<pre><code>MAIN CONTROL + PERCEPTION + COMMUNICATION + ACTUATION + POWER\n</code></pre>"},{"location":"ROADMAP/roadmap/#host-mcu","title":"HOST MCU","text":"<ul> <li>ESP32</li> <li>STM32</li> </ul>"},{"location":"ROADMAP/roadmap/#host-dev-boards","title":"HOST DEV BOARDS","text":"<p>ESP32</p> <ul> <li>DNESP32S3M </li> <li>DNESP32S3</li> </ul> <p>STM32</p> <ul> <li>FKH743M2-IIT6</li> </ul>"},{"location":"blog/","title":"Blog","text":""},{"location":"zh/","title":"NexNode","text":"<p>\u8fd9\u4e2a\u9879\u76ee\u81f4\u529b\u4e8e\u4e3a\u9762\u5411\u672a\u6765\u7684\u5e94\u7528\u5f00\u53d1\u4e00\u6b3e\u57fa\u4e8eEdgeAI\u7684MCU\u7ea7IoT\u8282\u70b9\u3002</p> <p>\"Nex\" \u6e90\u81ea \"Next\" \u548c \"Nexus\"\uff0c\u610f\u5473\u7740\u4e0b\u4e00\u4ee3IoT\u8bbe\u5907\u548c\u7269\u7406\u4e16\u754c\u4e0e\u6570\u5b57\u4e16\u754c\u4e4b\u95f4\u7684\u8fde\u63a5\u3002</p> <p></p>"},{"location":"zh/DNESP32S3/dnesp32s3/","title":"\u6b63\u70b9\u539f\u5b50 DNESP32S3 \u5f00\u53d1\u677f","text":"<p>\u6b63\u70b9\u539f\u5b50 DNESP32S3 \u5f00\u53d1\u677f</p> <p></p> <p></p> <p>\ud83c\udfd7\ufe0f</p>"},{"location":"zh/DNESP32S3M/dnesp32s3m/","title":"\u6b63\u70b9\u539f\u5b50 DNESP32S3M \u5f00\u53d1\u677f","text":""},{"location":"zh/DNESP32S3M/dnesp32s3m/#_1","title":"\u786c\u4ef6\u67b6\u6784","text":"<p>\u786c\u4ef6\u67b6\u6784</p> <p>\u4e3b\u63a7 + \u611f\u77e5 + \u901a\u4fe1 + \u6267\u884c + \u7535\u6e90</p> <p>\u6b63\u70b9\u539f\u5b50 DNESP32S3M \u4e3b\u63a7\u677f</p> <p></p> <p></p>"},{"location":"zh/DNESP32S3M/dnesp32s3m/#_2","title":"\u4ee3\u7801\u67b6\u6784","text":"<p>\u4e00\u822c\u610f\u4e49\u4e0a\u7684 ESP32 \u9879\u76ee\u7ed3\u6784</p> <pre><code>- myProject/\n             - CMakeLists.txt\n             - sdkconfig\n             - components/ - component1/ - CMakeLists.txt\n                                         - Kconfig\n                                         - src1.c\n                           - component2/ - CMakeLists.txt\n                                         - Kconfig\n                                         - src1.c\n                                         - include/ - component2.h\n             - main/       - CMakeLists.txt\n                           - src1.c\n                           - src2.c\n             - build/\n</code></pre> <p>DNESP32S3M \u521d\u59cb\u9879\u76ee\u7ed3\u6784</p> <pre><code>- DNESP32S3M-INIT/\n             - .vscode/ (vscode \u8bbe\u7f6e\u6587\u4ef6\uff0c\u53ef\u4ee5\u5ffd\u7565)\n             - CMakeLists.txt (\u9879\u76ee\u7ea7 cmake \u6587\u4ef6)\n             - sdkconfig (\u9879\u76ee\u7ea7 sdkconfig \u6587\u4ef6\uff0c\u901a\u8fc7 idf.py menuconfig \u751f\u6210)\n             - sdkconfig.old (sdkconfig \u5907\u4efd)\n             - partitions-16MiB.csv (16MiB flash \u8c03\u6574\u7684\u5206\u533a\u8868\u6587\u4ef6)\n             - application/ - component1/ - CMakeLists.txt\n                                          - Kconfig\n                                          - src1.c\n                            - component2/ - CMakeLists.txt\n                                          - Kconfig\n                                          - src1.c\n                                          - include/ - component2.h\n             - middleware/  - component1/ - CMakeLists.txt\n                                          - Kconfig\n                                          - src1.c\n                            - component2/ - CMakeLists.txt\n                                          - Kconfig\n                                          - src1.c\n                                          - include/ - component2.h\n             - driver/      - component1/ - CMakeLists.txt\n                                          - Kconfig\n                                          - src1.c\n                            - component2/ - CMakeLists.txt\n                                          - Kconfig\n                                          - src1.c\n                                          - include/ - component2.h\n             - main/        - CMakeLists.txt\n                            - src1.c\n                            - src2.c\n             - build/\n</code></pre>"},{"location":"zh/DNESP32S3M/dnesp32s3m/#_3","title":"\u63a8\u8350\u4e0a\u624b\u987a\u5e8f","text":"<p>\u603b\u4e4b\uff0c\u53ef\u4ee5\u770b\u6bcf\u4e2a\u7ae0\u8282\u91cc\u9762\u7684\u4f9d\u8d56\u5173\u7cfb\uff0c\u4fdd\u8bc1\u524d\u7f6e\u6761\u4ef6\u6ee1\u8db3\u5373\u53ef\u3002</p> <ol> <li>\u9879\u76ee\u6784\u5efa</li> <li>\u6267\u884c&gt;LED</li> <li>\u6267\u884c&gt;\u5916\u90e8\u4e2d\u65ad</li> <li>\u4e3b\u63a7&gt;\u5b9a\u65f6\u5668</li> </ol> <p>\ud83c\udfd7\ufe0f</p>"},{"location":"zh/DNESP32S3M/ACTUATION/actuation/","title":"\u6267\u884c","text":""},{"location":"zh/DNESP32S3M/ACTUATION/KEY%28EXIT%29/code/","title":"KEY(EXIT) \u4ee3\u7801","text":""},{"location":"zh/DNESP32S3M/ACTUATION/KEY%28EXIT%29/code/#_1","title":"\u7ec4\u4ef6\u67b6\u6784","text":"<pre><code>- driver\n    - exit\n        - include\n            - exit.h\n        - exit.c\n        - CMakeLists.txt\n</code></pre>"},{"location":"zh/DNESP32S3M/ACTUATION/KEY%28EXIT%29/code/#driverexitcmakeliststxt","title":"driver/exit/CMakeLists.txt","text":"<pre><code>set(src_dirs\n    .\n)\n\nset(include_dirs\n    include\n)\n\nset(requires\n    driver\n    led\n)\n\nidf_component_register(SRC_DIRS ${src_dirs} INCLUDE_DIRS ${include_dirs} REQUIRES ${requires})\n</code></pre> <p>Note</p> <p>\u6ce8\u610f\uff0c\u5728\u9a71\u52a8\u7a0b\u5e8f\u4e2d\uff0c\u6211\u4eec\u4f7f\u7528\u4e86 ESP-IDF \u5185\u7f6e\u7684 <code>driver</code> \u5e93\u4e2d\u7684 gpio\uff0c\u56e0\u6b64\uff0c\u6211\u4eec\u9700\u8981\u5728 <code>CMakeLists.txt</code> \u6587\u4ef6\u7684 <code>REQUIRES</code> \u5b57\u6bb5\u4e2d\u6307\u5b9a\u6b64\u4f9d\u8d56\u9879\u3002 \u6b64\u5916\uff0c\u6211\u4eec\u4f7f\u7528LED\u6765\u4f53\u73b0\u5916\u90e8\u4e2d\u65ad\u7684\u6548\u679c\uff0c\u56e0\u6b64\u6211\u4eec\u9700\u8981\u5728<code>REQUIRES</code>\u5b57\u6bb5\u4e2d\u6dfb\u52a0<code>led</code>\u3002 </p>"},{"location":"zh/DNESP32S3M/ACTUATION/KEY%28EXIT%29/integration/","title":"\u96c6\u6210","text":""},{"location":"zh/DNESP32S3M/ACTUATION/KEY%28EXIT%29/integration/#_2","title":"\u4ecb\u7ecd","text":"<p>Note</p> <p>\u5728\u672c\u8282\u4e2d\uff0c\u6211\u4eec\u4ecb\u7ecd\u5982\u4f55\u5c06 KEY(exit) \u9a71\u52a8\u96c6\u6210\u5230\u9879\u76ee\u4e2d\u3002</p>"},{"location":"zh/DNESP32S3M/ACTUATION/KEY%28EXIT%29/integration/#_3","title":"\u521b\u5efa\u65b0\u7ec4\u4ef6","text":"<p>Warning</p> <p>\u5728 <code>driver</code> \u76ee\u5f55\u4e2d\u521b\u5efa\u7ec4\u4ef6\u4e4b\u524d\uff0c\u8bf7\u786e\u4fdd\u60a8\u5df2\u5c06 <code>driver</code> \u76ee\u5f55\u5408\u5e76\u5230\u9879\u76ee\u4e2d\uff0c\u65b9\u6cd5\u662f\u5c06 <code>driver</code> \u76ee\u5f55\u7684\u8def\u5f84\u6dfb\u52a0\u5230\u9879\u76ee\u7ea7 <code>CMakeLists.txt</code> \u6587\u4ef6\u4e2d\u7684 <code>EXTRA_COMPONENT_DIRS</code> \u53d8\u91cf\u4e2d\u3002</p> <p>\u5728 VSCode \u4e2d\u6253\u5f00\u9879\u76ee\uff0c\u6253\u5f00\u96c6\u6210\u7ec8\u7aef\uff0c\u8f93\u5165</p> <pre><code>get_idf \n</code></pre> <p>\u6fc0\u6d3b ESP-IDF \u73af\u5883\u3002\u7136\u540e\u8f93\u5165\u4ee5\u4e0b\u547d\u4ee4\u521b\u5efa\u4e00\u4e2a\u540d\u4e3a <code>exit</code> \u7684\u65b0\u7ec4\u4ef6\uff1a</p> <pre><code>idf.py -C driver create-component exit\n</code></pre> <p>\u4e0a\u9762\u7684\u547d\u4ee4\u610f\u5473\u7740\u5728 <code>driver</code> \u76ee\u5f55\u4e2d\u521b\u5efa\u4e00\u4e2a\u540d\u4e3a <code>exit</code> \u7684\u65b0\u7ec4\u4ef6\u3002\u6267\u884c\u547d\u4ee4\u540e\uff0c\u60a8\u5c06\u5728 <code>driver</code> \u76ee\u5f55\u4e2d\u770b\u5230\u4e00\u4e2a\u540d\u4e3a <code>exit</code> \u7684\u65b0\u76ee\u5f55\u3002\u547d\u4ee4\u5c06\u81ea\u52a8\u751f\u6210\u65b0\u7ec4\u4ef6\u7684 <code>CMakeLists.txt</code> \u6587\u4ef6\uff0c\u4ee5\u53ca <code>exit.h</code> \u548c <code>exit.c</code> \u6587\u4ef6\u3002</p> <p>\u6216\u8005\uff0c\u60a8\u53ef\u4ee5\u5728 <code>driver</code> \u76ee\u5f55\u4e2d\u624b\u52a8\u521b\u5efa <code>exit</code> \u76ee\u5f55\uff0c\u7136\u540e\u5728 <code>exit</code> \u76ee\u5f55\u4e2d\u521b\u5efa <code>CMakeLists.txt</code>\u3001<code>exit.h</code> \u548c <code>exit.c</code> \u6587\u4ef6\u3002</p>"},{"location":"zh/DNESP32S3M/ACTUATION/KEY%28EXIT%29/integration/#_4","title":"\u66ff\u6362\u4ee3\u7801","text":"<p>\u7ec4\u4ef6\u5c42\u9762</p> <p>\u5c06\u672c\u8282\u4e2d\u4ee3\u7801\u5206\u522b\u66ff\u6362\u5230\u7ec4\u4ef6\u4e0b\u7684<code>CMakelists.txt</code>\u3001<code>exit.h</code>\u548c<code>exit.c</code>\u6587\u4ef6\u4e2d\u3002</p> <p>\u9879\u76ee\u5c42\u9762</p> <p>\u5c06<code>main.c</code>\u4e2d\u7684\u4ee3\u7801\u66ff\u6362\u4e3a\u76f8\u5e94\u7684\u4ee3\u7801\u3002\u9879\u76ee\u5c42\u9762\u7684<code>CMakeLists.txt</code>\u6587\u4ef6\u65e0\u9700\u66f4\u6539\u3002</p>"},{"location":"zh/DNESP32S3M/ACTUATION/KEY%28EXIT%29/integration/#_5","title":"\u7f16\u8bd1\u70e7\u5f55","text":"<p>\u5728 VSCode \u4e2d\u6253\u5f00\u9879\u76ee\uff0c\u6253\u5f00\u96c6\u6210\u7ec8\u7aef\uff0c\u8f93\u5165</p> <p><pre><code>idf.py build flash monitor\n</code></pre> \u6b64\u65f6\uff0c\u6309\u4e0b\u6309\u94ae\uff0c\u5373\u53ef\u770b\u5230LED\u72b6\u6001\u7ffb\u8f6c\u3002</p>"},{"location":"zh/DNESP32S3M/ACTUATION/KEY%28EXIT%29/note/","title":"\u6309\u952e\uff08\u4e2d\u65ad\u65b9\u5f0f\uff09\u7b14\u8bb0","text":""},{"location":"zh/DNESP32S3M/ACTUATION/KEY%28EXIT%29/note/#_2","title":"\u4ecb\u7ecd","text":"<p>Note</p> <p>\u5728\u672c\u8282\u4e2d\uff0c\u6211\u4eec\u5c06\u8ba8\u8bbadesp32s3m\u5f00\u53d1\u677f\u4e0a\u7684\u677f\u8f7d\u6309\u952e\uff0c\u4e3a\u4e86\u65b9\u4fbf\u8d77\u89c1\uff0c\u8be5\u6309\u952e\u4e0d\u4f7f\u7528\u963b\u585e\u6a21\u5f0f\uff0c\u800c\u662f\u7528\u4e8e\u4e2d\u65ad\u6a21\u5f0f\u3002\u6211\u4eec\u4f7f\u7528\u5916\u90e8\u4e2d\u65ad\u6765\u68c0\u6d4b\u6309\u952e\u6309\u4e0b\u3002\u5b9e\u9645\u4e0a\u6211\u4eec\u672c\u7ae0\u8ba8\u8bba\u7684\u662f\u4e2d\u65ad\uff0c\u4f46\u662f\u8f7d\u4f53\u662f\u6309\u952e\u3002</p>"},{"location":"zh/DNESP32S3M/ACTUATION/KEY%28EXIT%29/note/#_3","title":"\u6309\u952e","text":""},{"location":"zh/DNESP32S3M/ACTUATION/KEY%28EXIT%29/note/#_4","title":"\u677f\u8f7d\u7535\u8def","text":""},{"location":"zh/DNESP32S3M/ACTUATION/KEY%28EXIT%29/note/#_5","title":"\u4f9d\u8d56\u5173\u7cfb","text":""},{"location":"zh/DNESP32S3M/ACTUATION/KEY%28EXIT%29/note/#_6","title":"\u5173\u952e\u51fd\u6570","text":"\u51fd\u6570\u539f\u578b \u8bf4\u660e \u793a\u4f8b static void IRAM_ATTR exit_gpio_isr_handler(void *arg) \u5916\u90e8\u4e2d\u65ad\u670d\u52a1\u4f8b\u7a0b\uff0c\u5c06\u60a8\u5e0c\u671b\u5728\u68c0\u6d4b\u5230\u4e8b\u4ef6\u540e\u6267\u884c\u7684\u64cd\u4f5c\u653e\u5728\u8fd9\u91cc \u5728\u8fd9\u91cc\u653e\u7f6e\u60a8\u7684\u64cd\u4f5c esp_err_t gpio_install_isr_service(int intr_alloc_flags) \u5b89\u88c5\u9a71\u52a8\u7a0b\u5e8f\u7684GPIO ISR\u670d\u52a1\uff0c\u5141\u8bb8\u60a8\u4e3aGPIO\u5f15\u811a\u6ce8\u518cISR\u5904\u7406\u7a0b\u5e8f gpio_install_isr_service(0); esp_err_t gpio_isr_handler_add(gpio_num_t gpio_num, gpio_isr_t isr_handler, void *args) \u4e3aGPIO\u5f15\u811a\u6dfb\u52a0\u5904\u7406\u7a0b\u5e8f gpio_isr_handler_add(BOOT_INT_GPIO_PIN, exit_gpio_isr_handler, (void*) BOOT_INT_GPIO_PIN); esp_err_t gpio_intr_enable(gpio_num_t gpio_num) \u542f\u7528GPIO\u4e2d\u65ad gpio_intr_enable(BOOT_INT_GPIO_PIN); <p>Tip</p> <p>\u4e00\u65e6\u4f60\u8bbe\u7f6e\u597d\u4e86\u5904\u7406\u51fd\u6570\uff0c\u4f60\u5c31\u4e0d\u9700\u8981\u5728\u4e3b\u5faa\u73af\u4e2d\u8c03\u7528\u8be5\u51fd\u6570\uff0c\u56e0\u4e3a\u4e00\u65e6\u68c0\u6d4b\u5230\u4e8b\u4ef6\uff0c\u4e2d\u65ad\u5c06\u81ea\u52a8\u89e6\u53d1\u3002</p>"},{"location":"zh/DNESP32S3M/ACTUATION/LED/code/","title":"LED \u4ee3\u7801","text":""},{"location":"zh/DNESP32S3M/ACTUATION/LED/code/#_1","title":"\u7ec4\u4ef6\u67b6\u6784","text":"<pre><code>- driver\n    - led\n        - include\n            - led.h\n        - led.c\n        - CMakeLists.txt\n</code></pre>"},{"location":"zh/DNESP32S3M/ACTUATION/LED/code/#driverledcmakeliststxt","title":"driver/led/CMakeLists.txt","text":"<pre><code>set(src_dirs\n    .\n)\n\nset(include_dirs\n    include\n)\n\nset(requires\n    driver\n)\n\nidf_component_register(SRC_DIRS ${src_dirs} INCLUDE_DIRS ${include_dirs} REQUIRES ${requires})\n</code></pre> <p>Note</p> <p>\u6ce8\u610f\uff0c\u5728\u9a71\u52a8\u7a0b\u5e8f\u4e2d\uff0c\u6211\u4eec\u4f7f\u7528\u4e86 ESP-IDF \u5185\u7f6e\u7684 <code>driver</code> \u5e93\u4e2d\u7684 gpio\uff0c\u56e0\u6b64\uff0c\u6211\u4eec\u9700\u8981\u5728 <code>CMakeLists.txt</code> \u6587\u4ef6\u7684 <code>REQUIRES</code> \u5b57\u6bb5\u4e2d\u6307\u5b9a\u6b64\u4f9d\u8d56\u9879\u3002</p>"},{"location":"zh/DNESP32S3M/ACTUATION/LED/integration/","title":"\u96c6\u6210","text":""},{"location":"zh/DNESP32S3M/ACTUATION/LED/integration/#_2","title":"\u4ecb\u7ecd","text":"<p>Note</p> <p>\u5728\u672c\u8282\u4e2d\uff0c\u6211\u4eec\u4ecb\u7ecd\u5982\u4f55\u5c06 LED \u9a71\u52a8\u96c6\u6210\u5230\u9879\u76ee\u4e2d\u3002</p>"},{"location":"zh/DNESP32S3M/ACTUATION/LED/integration/#_3","title":"\u521b\u5efa\u65b0\u7ec4\u4ef6","text":"<p>Warning</p> <p>\u5728 <code>driver</code> \u76ee\u5f55\u4e2d\u521b\u5efa\u7ec4\u4ef6\u4e4b\u524d\uff0c\u8bf7\u786e\u4fdd\u60a8\u5df2\u5c06 <code>driver</code> \u76ee\u5f55\u5408\u5e76\u5230\u9879\u76ee\u4e2d\uff0c\u65b9\u6cd5\u662f\u5c06 <code>driver</code> \u76ee\u5f55\u7684\u8def\u5f84\u6dfb\u52a0\u5230\u9879\u76ee\u7ea7 <code>CMakeLists.txt</code> \u6587\u4ef6\u4e2d\u7684 <code>EXTRA_COMPONENT_DIRS</code> \u53d8\u91cf\u4e2d\u3002</p> <p>\u5728 VSCode \u4e2d\u6253\u5f00\u9879\u76ee\uff0c\u6253\u5f00\u96c6\u6210\u7ec8\u7aef\uff0c\u8f93\u5165</p> <pre><code>get_idf \n</code></pre> <p>\u6fc0\u6d3b ESP-IDF \u73af\u5883\u3002\u7136\u540e\u8f93\u5165\u4ee5\u4e0b\u547d\u4ee4\u521b\u5efa\u4e00\u4e2a\u540d\u4e3a <code>led</code> \u7684\u65b0\u7ec4\u4ef6\uff1a</p> <pre><code>idf.py -C driver create-component led\n</code></pre> <p>\u4e0a\u9762\u7684\u547d\u4ee4\u610f\u5473\u7740\u5728 <code>driver</code> \u76ee\u5f55\u4e2d\u521b\u5efa\u4e00\u4e2a\u540d\u4e3a <code>led</code> \u7684\u65b0\u7ec4\u4ef6\u3002\u6267\u884c\u547d\u4ee4\u540e\uff0c\u60a8\u5c06\u5728 <code>driver</code> \u76ee\u5f55\u4e2d\u770b\u5230\u4e00\u4e2a\u540d\u4e3a <code>led</code> \u7684\u65b0\u76ee\u5f55\u3002\u547d\u4ee4\u5c06\u81ea\u52a8\u751f\u6210\u65b0\u7ec4\u4ef6\u7684 <code>CMakeLists.txt</code> \u6587\u4ef6\uff0c\u4ee5\u53ca <code>led.h</code> \u548c <code>led.c</code> \u6587\u4ef6\u3002</p> <p>\u6216\u8005\uff0c\u60a8\u53ef\u4ee5\u5728 <code>driver</code> \u76ee\u5f55\u4e2d\u624b\u52a8\u521b\u5efa <code>led</code> \u76ee\u5f55\uff0c\u7136\u540e\u5728 <code>led</code> \u76ee\u5f55\u4e2d\u521b\u5efa <code>CMakeLists.txt</code>\u3001<code>led.h</code> \u548c <code>led.c</code> \u6587\u4ef6\u3002</p>"},{"location":"zh/DNESP32S3M/ACTUATION/LED/integration/#_4","title":"\u66ff\u6362\u4ee3\u7801","text":"<p>\u7ec4\u4ef6\u5c42\u9762</p> <p>\u5c06\u672c\u8282\u4e2d\u4ee3\u7801\u5206\u522b\u66ff\u6362\u5230\u7ec4\u4ef6\u4e0b\u7684<code>CMakelists.txt</code>\u3001<code>led.h</code>\u548c<code>led.c</code>\u6587\u4ef6\u4e2d\u3002</p> <p>\u9879\u76ee\u5c42\u9762</p> <p>\u5c06<code>main.c</code>\u4e2d\u7684\u4ee3\u7801\u66ff\u6362\u4e3a\u76f8\u5e94\u7684\u4ee3\u7801\u3002\u9879\u76ee\u5c42\u9762\u7684<code>CMakeLists.txt</code>\u6587\u4ef6\u65e0\u9700\u66f4\u6539\u3002</p>"},{"location":"zh/DNESP32S3M/ACTUATION/LED/integration/#_5","title":"\u7f16\u8bd1\u70e7\u5f55","text":"<p>\u5728 VSCode \u4e2d\u6253\u5f00\u9879\u76ee\uff0c\u6253\u5f00\u96c6\u6210\u7ec8\u7aef\uff0c\u8f93\u5165</p> <pre><code>idf.py build flash monitor\n</code></pre> <p>\u6216\u8005\u70b9\u51fb VSCode \u5de6\u4e0b\u89d2\u7684\u5c0f\u706b\u7130\u56fe\u6807\uff0c\u7f16\u8bd1\u70e7\u5f55\u5e76\u6253\u5f00\u76d1\u89c6\u5668\u3002\u6b64\u65f6\u5e94\u8be5\u53ef\u4ee5\u770b\u5230\u5f00\u53d1\u677f\u4e0a\u7684 LED \u706f\u4eae\u8d77\uff0c\u4e14\u5728\u76d1\u89c6\u5668\u4e2d\u770b\u5230\u76f8\u5e94\u7684\u8f93\u51fa\u3002</p>"},{"location":"zh/DNESP32S3M/ACTUATION/LED/note/","title":"LED \u7b14\u8bb0","text":""},{"location":"zh/DNESP32S3M/ACTUATION/LED/note/#_1","title":"\u4ecb\u7ecd","text":"<p>Note</p> <p>\u672c\u7ae0\u6211\u4eec\u8bb2\u89e3DNESP32S3M\u5f00\u53d1\u677f\u4e0a\u7684\u677f\u8f7dLED\u706f\u7684\u9a71\u52a8\u548c\u63a7\u5236\u3002\u901a\u8fc7\u4fee\u6539GPIO\u5f15\u811a\uff0c\u4ee3\u7801\u4e5f\u53ef\u4ee5\u7528\u4e8e\u5176\u4ed6\u5f00\u53d1\u677f\u3002</p>"},{"location":"zh/DNESP32S3M/ACTUATION/LED/note/#led_1","title":"LED\u706f","text":""},{"location":"zh/DNESP32S3M/ACTUATION/LED/note/#_2","title":"\u7535\u8def\u793a\u610f\u56fe","text":"<p>\u5982\u56fe\u6240\u793a\uff0c\u63a7\u5236LED\u7684GPIO\u662fIO1\u3002</p>"},{"location":"zh/DNESP32S3M/ACTUATION/LED/note/#_3","title":"\u6548\u679c\u56fe","text":""},{"location":"zh/DNESP32S3M/ACTUATION/LED/note/#_4","title":"\u4f9d\u8d56\u5173\u7cfb","text":"<p>Tip</p> <p>\"[ ]\" \u4ee3\u8868\u8be5\u4f9d\u8d56\u6765\u81ea\u4e8eESP-IDF\u5185\u7f6e\u7684\u5e93</p>"},{"location":"zh/DNESP32S3M/ACTUATION/LED/note/#_5","title":"\u5173\u952e\u51fd\u6570","text":"\u51fd\u6570\u539f\u578b \u8bf4\u660e \u793a\u4f8b <code>void led_init(void)</code> \u521d\u59cb\u5316LED <code>led_init();</code> <code>void led(int x)</code> \u63a7\u5236LED <code>led(1);</code> <code>void led_toggle(void)</code> \u5207\u6362LED <code>led_toggle();</code>"},{"location":"zh/DNESP32S3M/COMMUNICATION/communication/","title":"\u901a\u4fe1","text":""},{"location":"zh/DNESP32S3M/MAIN-CONTROL/main-control/","title":"\u4e3b\u63a7","text":""},{"location":"zh/DNESP32S3M/MAIN-CONTROL/RTC/code/","title":"\u5b9e\u65f6\u65f6\u949f \u4ee3\u7801","text":"<p>Warning</p> <p>\u770b\u8d77\u6765 ESP-IDF \u4e2d\u6709\u4e00\u4e2a\u540d\u4e3a <code>rtc.h</code> \u7684\u5185\u7f6e\u6587\u4ef6\uff0c\u56e0\u6b64\u6211\u4eec\u9700\u8981\u5c06\u6211\u4eec\u7684\u6587\u4ef6\u547d\u540d\u4e3a <code>esp_rtc.h</code> \u4ee5\u907f\u514d\u51b2\u7a81\u3002\u56e0\u6b64 <code>rtc.c</code> \u6587\u4ef6\u4e5f\u662f\u5982\u6b64\u3002</p>"},{"location":"zh/DNESP32S3M/MAIN-CONTROL/RTC/code/#_2","title":"\u7ec4\u4ef6\u67b6\u6784","text":"<pre><code>- driver\n    - esp_rtc\n        - include\n            - esp_rtc.h\n        - esp_rtc.c\n        - CMakeLists.txt\n</code></pre>"},{"location":"zh/DNESP32S3M/MAIN-CONTROL/RTC/code/#driveresp_rtccmakeliststxt","title":"driver/esp_rtc/CMakeLists.txt","text":"<pre><code>set(src_dirs\n    .\n)\n\nset(include_dirs\n    include\n)\n\nset(requires\n    newlib\n)\n\nidf_component_register(SRC_DIRS ${src_dirs} INCLUDE_DIRS ${include_dirs} REQUIRES ${requires})\n</code></pre> <p>Note</p> <p>\u6ce8\u610f\uff0c\u5728\u9a71\u52a8\u7a0b\u5e8f\u4e2d\uff0c\u6211\u4eec\u4f7f\u7528\u4e86 ESP-IDF \u5185\u7f6e\u7684 <code>driver</code> \u5e93\u4e2d\u7684 gpio\uff0c\u56e0\u6b64\uff0c\u6211\u4eec\u9700\u8981\u5728 <code>CMakeLists.txt</code> \u6587\u4ef6\u7684 <code>REQUIRES</code> \u5b57\u6bb5\u4e2d\u6307\u5b9a\u6b64\u4f9d\u8d56\u9879\u3002</p>"},{"location":"zh/DNESP32S3M/MAIN-CONTROL/RTC/integration/","title":"\u96c6\u6210","text":""},{"location":"zh/DNESP32S3M/MAIN-CONTROL/RTC/integration/#_2","title":"\u4ecb\u7ecd","text":"<p>Note</p> <p>\u5728\u672c\u8282\u4e2d\uff0c\u6211\u4eec\u4ecb\u7ecd\u5982\u4f55\u5c06\u5b9a\u65f6\u5668\u9a71\u52a8\u96c6\u6210\u5230\u9879\u76ee\u4e2d\u3002</p>"},{"location":"zh/DNESP32S3M/MAIN-CONTROL/RTC/integration/#_3","title":"\u521b\u5efa\u65b0\u7ec4\u4ef6","text":"<p>Warning</p> <p>\u5728 <code>driver</code> \u76ee\u5f55\u4e2d\u521b\u5efa\u7ec4\u4ef6\u4e4b\u524d\uff0c\u8bf7\u786e\u4fdd\u60a8\u5df2\u5c06 <code>driver</code> \u76ee\u5f55\u5408\u5e76\u5230\u9879\u76ee\u4e2d\uff0c\u65b9\u6cd5\u662f\u5c06 <code>driver</code> \u76ee\u5f55\u7684\u8def\u5f84\u6dfb\u52a0\u5230\u9879\u76ee\u7ea7 <code>CMakeLists.txt</code> \u6587\u4ef6\u4e2d\u7684 <code>EXTRA_COMPONENT_DIRS</code> \u53d8\u91cf\u4e2d\u3002</p> <p>\u5728 VSCode \u4e2d\u6253\u5f00\u9879\u76ee\uff0c\u6253\u5f00\u96c6\u6210\u7ec8\u7aef\uff0c\u8f93\u5165</p> <pre><code>get_idf \n</code></pre> <p>\u6fc0\u6d3b ESP-IDF \u73af\u5883\u3002\u7136\u540e\u8f93\u5165\u4ee5\u4e0b\u547d\u4ee4\u521b\u5efa\u4e00\u4e2a\u540d\u4e3a <code>esp_rtc</code> \u7684\u65b0\u7ec4\u4ef6\uff1a</p> <pre><code>idf.py -C driver create-component esp_rtc\n</code></pre> <p>\u4e0a\u9762\u7684\u547d\u4ee4\u610f\u5473\u7740\u5728 <code>driver</code> \u76ee\u5f55\u4e2d\u521b\u5efa\u4e00\u4e2a\u540d\u4e3a <code>esp_rtc</code> \u7684\u65b0\u7ec4\u4ef6\u3002\u6267\u884c\u547d\u4ee4\u540e\uff0c\u60a8\u5c06\u5728 <code>driver</code> \u76ee\u5f55\u4e2d\u770b\u5230\u4e00\u4e2a\u540d\u4e3a <code>esp_rtc</code> \u7684\u65b0\u76ee\u5f55\u3002\u547d\u4ee4\u5c06\u81ea\u52a8\u751f\u6210\u65b0\u7ec4\u4ef6\u7684 <code>CMakeLists.txt</code> \u6587\u4ef6\uff0c\u4ee5\u53ca <code>esp_rtc.h</code> \u548c <code>esp_rtc.c</code> \u6587\u4ef6\u3002</p> <p>\u6216\u8005\uff0c\u60a8\u53ef\u4ee5\u5728 <code>driver</code> \u76ee\u5f55\u4e2d\u624b\u52a8\u521b\u5efa <code>esp_rtc</code> \u76ee\u5f55\uff0c\u7136\u540e\u5728 <code>esp_rtc</code> \u76ee\u5f55\u4e2d\u521b\u5efa <code>CMakeLists.txt</code>\u3001<code>esp_rtc.h</code> \u548c <code>esp_rtc.c</code> \u6587\u4ef6\u3002</p>"},{"location":"zh/DNESP32S3M/MAIN-CONTROL/RTC/integration/#_4","title":"\u66ff\u6362\u4ee3\u7801","text":"<p>\u7ec4\u4ef6\u5c42\u9762</p> <p>\u5c06\u672c\u8282\u4e2d\u4ee3\u7801\u5206\u522b\u66ff\u6362\u5230\u7ec4\u4ef6\u4e0b\u7684<code>CMakelists.txt</code>\u3001<code>esp_rtc.h</code>\u548c<code>esp_rtc.c</code>\u6587\u4ef6\u4e2d\u3002</p> <p>\u9879\u76ee\u5c42\u9762</p> <p>\u5c06<code>main.c</code>\u4e2d\u7684\u4ee3\u7801\u66ff\u6362\u4e3a\u76f8\u5e94\u7684\u4ee3\u7801\u3002\u9879\u76ee\u5c42\u9762\u7684<code>CMakeLists.txt</code>\u6587\u4ef6\u65e0\u9700\u66f4\u6539\u3002</p>"},{"location":"zh/DNESP32S3M/MAIN-CONTROL/RTC/integration/#_5","title":"\u7f16\u8bd1\u70e7\u5f55","text":"<p>\u5728 VSCode \u4e2d\u6253\u5f00\u9879\u76ee\uff0c\u6253\u5f00\u96c6\u6210\u7ec8\u7aef\uff0c\u8f93\u5165</p> <p><pre><code>idf.py build flash monitor\n</code></pre> \u6b64\u65f6\uff0c\u60a8\u5c06\u5728\u4e32\u884c\u76d1\u89c6\u5668\u4e2d\u770b\u5230\u65e5\u671f\u548c\u65f6\u95f4\u7684\u6253\u5370\u8f93\u51fa\u3002</p>"},{"location":"zh/DNESP32S3M/MAIN-CONTROL/RTC/note/","title":"\u5b9e\u65f6\u65f6\u949f (RTC)","text":"<p>Note</p> <p>\u672c\u7ae0\u4ecb\u7ecd ESP32-S3 \u5b9e\u65f6\u65f6\u949f\uff08RTC\uff09\u7684\u4f7f\u7528\uff0c\u5b9e\u65f6\u65f6\u949f\u80fd\u4e3a\u7cfb\u7edf\u63d0\u4f9b\u4e00\u4e2a\u51c6\u786e\u7684\u65f6\u95f4\uff0c\u5373\u65f6\u7cfb\u7edf\u590d\u4f4d\u6216\u4e3b\u7535\u6e90\u65ad\u7535\uff0cRTC \u4f9d\u7136\u80fd\u591f\u8fd0\u884c(\u6709\u7535\u6c60)\uff0c\u56e0\u6b64 RTC \u4e5f\u7ecf\u5e38\u7528\u4e8e\u5404\u79cd\u4f4e\u529f\u8017\u573a\u666f\u3002</p> <p>\u5b9e\u65f6\u65f6\u949f</p> <p>RTC\uff08\u5b9e\u65f6\u65f6\u949f\uff09\u662f\u6307\u5b89\u88c5\u5728\u7535\u5b50\u8bbe\u5907\u6216\u5b9e\u73b0\u5176\u529f\u80fd\u7684 IC\uff08\u96c6\u6210\u7535\u8def\uff09\u4e0a\u7684\u65f6\u949f\u3002</p> <p>\u5f53\u60a8\u5728\u6570\u5b57\u7535\u8def\u4e2d\u79f0\u5176\u4e3a\u201c\u65f6\u949f\u201d\u65f6\uff0c\u60a8\u53ef\u80fd\u4f1a\u60f3\u5230\u5468\u671f\u4fe1\u53f7\uff0c\u4f46\u5728\u82f1\u8bed\u4e2d\uff0cclock \u4e5f\u610f\u5473\u7740\u201c\u65f6\u949f\u201d\u3002\u90a3\u4e3a\u4ec0\u4e48\u6211\u4eec\u9700\u8981\u4e00\u4e2a\u5355\u72ec\u7684 RTC?</p> <p>\u539f\u56e0\u662f CPU \u7684\u5b9a\u65f6\u5668\u65f6\u949f\u529f\u80fd\u53ea\u5728\u201c\u542f\u52a8\u201d\u5373\u201c\u901a\u7535\u65f6\u201d\u8fd0\u884c\uff0c\u65ad\u7535\u65f6\u505c\u6b62\u3002\u5f53\u7136\uff0c\u5982\u679c\u65f6\u949f\u4e0d\u80fd\u8fde\u7eed\u8ddf\u8e2a\u65f6\u95f4\uff0c\u5219\u5fc5\u987b\u624b\u52a8\u8bbe\u7f6e\u65f6\u95f4\u3002</p> <p>\u901a\u5e38\uff0cRTC \u914d\u5907\u4e00\u4e2a\u5355\u72ec\u5206\u79bb\u7684\u7535\u6e90\uff0c\u5982\u7ebd\u6263\u7535\u6c60\uff08\u5907\u7528\u7535\u6c60\uff09\uff0c\u5373\u4f7f DNESP32S3M \u6700\u5c0f\u7cfb\u7edf\u677f\u7535\u6e90\u5173\u95ed\uff0c\u5b83\u4e5f\u80fd\u4fdd\u6301\u8fd0\u4f5c\uff0c\u968f\u65f6\u53ef\u4ee5\u5b9e\u65f6\u663e\u793a\u65f6\u95f4\u3002\u7136\u540e\uff0c\u5f53 DNESP32S3M \u6700\u5c0f\u7cfb\u7edf\u677f\u518d\u6b21\u6253\u5f00\u65f6\uff0c\u8ba1\u7b97\u673a\u5185\u7f6e\u7684\u5b9a\u65f6\u5668\u65f6\u949f\u4ece RTC \u8bfb\u53d6\u5f53\u524d\u65f6\u95f4\uff0c\u5e76\u5728\u6b64\u57fa\u7840\u4e0a\u4f9b\u7535\u7684\u540c\u65f6\uff0c\u65f6\u95f4\u5728\u5176\u81ea\u8eab\u673a\u5236\u4e0b\u663e\u793a\u3002\u987a\u4fbf\u8bf4\u4e00\u53e5\uff0c\u7531\u4e8e\u7ebd\u6263\u7535\u6c60\u76f8\u5bf9\u4fbf\u5b9c\u4e14\u4f7f\u7528\u5bff\u547d\u957f\uff0c\u56e0\u6b64 RTC \u53ef\u4ee5\u4ee5\u6781\u4f4e\u7684\u6210\u672c\u8fd0\u884c\u3002\u57fa\u4e8e\u6b64\u8fd9\u4e2a\u4f5c\u7528\uff0c\u5b83\u4e5f\u53ef\u4ee5\u7528\u4f5c\u5185\u5b58\u3002</p> <p>Note</p> <p>\u5728 ESP32-S3 \u4e2d\uff0c\u5e76\u6ca1\u6709\u50cf STM32 \u82af\u7247\u4e00\u6837\uff0c\u5177\u6709 RTC \u5916\u8bbe\uff0c\u4f46\u662f\u5b58\u5728\u4e00\u4e2a\u7cfb\u7edf\u65f6\u95f4\uff0c\u5229\u7528\u7cfb\u7edf\u65f6\u95f4\uff0c\u4e5f\u53ef\u4ee5\u5b9e\u73b0\u5b9e\u65f6\u65f6\u949f\u7684\u529f\u80fd\u6548\u679c\u3002 ESP32-S3 \u4f7f\u7528\u4e24\u79cd\u786c\u4ef6\u65f6\u949f\u6e90\u5efa\u7acb\u548c\u4fdd\u6301\u7cfb\u7edf\u65f6\u95f4\u3002\u6839\u636e\u5e94\u7528\u76ee\u7684\u53ca\u5bf9\u7cfb\u7edf\u65f6\u95f4\u7684\u7cbe\u5ea6\u8981\u6c42\uff0c\u65e2\u53ef\u4ee5\u4ec5\u4f7f\u7528\u5176\u4e2d\u4e00\u79cd\u65f6\u949f\u6e90\uff0c\u4e5f\u53ef\u4ee5\u540c\u65f6\u4f7f\u7528\u4e24\u79cd\u65f6\u949f\u6e90\u3002\u8fd9\u4e24\u79cd\u786c\u4ef6\u65f6\u949f\u6e90\u4e3a RTC \u5b9a\u65f6\u5668 \u548c \u9ad8\u5206\u8fa8\u7387\u5b9a\u65f6\u5668 \u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u662f\u4f7f\u7528\u8fd9\u4e24\u79cd\u5b9a\u65f6\u5668\u3002\u4e0b\u9762\u6211\u4eec\u5c06\u9010\u4e00\u4ecb\u7ecd\u3002</p>"},{"location":"zh/DNESP32S3M/MAIN-CONTROL/RTC/note/#_1","title":"\u7528\u4f8b","text":"<ol> <li>\u901a\u8fc7 LCD /UART \u5b9e\u65f6\u663e\u793a RTC \u65f6\u95f4</li> <li>LED \u95ea\u70c1\uff0c\u6307\u793a\u7a0b\u5e8f\u6b63\u5728\u8fd0\u884c</li> </ol>"},{"location":"zh/DNESP32S3M/MAIN-CONTROL/RTC/note/#_2","title":"\u4f9d\u8d56\u5173\u7cfb","text":"<p>\u672c\u7ae0\u65e0\u4f9d\u8d56\u5173\u7cfb\u3002</p>"},{"location":"zh/DNESP32S3M/MAIN-CONTROL/RTC/note/#_3","title":"\u5173\u952e\u51fd\u6570","text":"\u51fd\u6570\u539f\u578b \u8bf4\u660e \u793a\u4f8b"},{"location":"zh/DNESP32S3M/MAIN-CONTROL/TIMER/code/","title":"\u5b9a\u65f6\u5668 \u4ee3\u7801","text":""},{"location":"zh/DNESP32S3M/MAIN-CONTROL/TIMER/code/#_2","title":"\u7ec4\u4ef6\u67b6\u6784","text":"<pre><code>- driver\n    - tim\n        - include\n            - tim.h\n        - tim.c\n        - CMakeLists.txt\n</code></pre>"},{"location":"zh/DNESP32S3M/MAIN-CONTROL/TIMER/code/#drivertimercmakeliststxt","title":"driver/timer/CMakeLists.txt","text":"<pre><code>set(src_dirs\n    .\n)\n\nset(include_dirs\n    include\n)\n\nset(requires\n    driver\n    esp_timer\n    led\n)\n\nidf_component_register(SRC_DIRS ${src_dirs} INCLUDE_DIRS ${include_dirs} REQUIRES ${requires})\n</code></pre> <p>Note</p> <p>\u6ce8\u610f\uff0c\u5728\u9a71\u52a8\u7a0b\u5e8f\u4e2d\uff0c\u6211\u4eec\u4f7f\u7528\u4e86 ESP-IDF \u5185\u7f6e\u7684 <code>driver</code> \u5e93\u4e2d\u7684 gpio\uff0c\u56e0\u6b64\uff0c\u6211\u4eec\u9700\u8981\u5728 <code>CMakeLists.txt</code> \u6587\u4ef6\u7684 <code>REQUIRES</code> \u5b57\u6bb5\u4e2d\u6307\u5b9a\u6b64\u4f9d\u8d56\u9879\u3002 \u6b64\u5916\uff0c\u6211\u4eec\u4f7f\u7528LED\u6765\u4f53\u73b0\u5916\u90e8\u4e2d\u65ad\u7684\u6548\u679c\uff0c\u56e0\u6b64\u6211\u4eec\u9700\u8981\u5728<code>REQUIRES</code>\u5b57\u6bb5\u4e2d\u6dfb\u52a0<code>led</code>\u3002  \u518d\u6709\uff0c\u5bf9\u4e8e\u5b9a\u65f6\u5668\uff0c\u6211\u4eec\u9700\u8981\u5728<code>REQUIRES</code>\u5b57\u6bb5\u4e2d\u6dfb\u52a0<code>esp_timer</code>\u3002</p>"},{"location":"zh/DNESP32S3M/MAIN-CONTROL/TIMER/integration/","title":"\u96c6\u6210","text":""},{"location":"zh/DNESP32S3M/MAIN-CONTROL/TIMER/integration/#_2","title":"\u4ecb\u7ecd","text":"<p>Note</p> <p>\u5728\u672c\u8282\u4e2d\uff0c\u6211\u4eec\u4ecb\u7ecd\u5982\u4f55\u5c06\u5b9a\u65f6\u5668\u9a71\u52a8\u96c6\u6210\u5230\u9879\u76ee\u4e2d\u3002</p>"},{"location":"zh/DNESP32S3M/MAIN-CONTROL/TIMER/integration/#_3","title":"\u521b\u5efa\u65b0\u7ec4\u4ef6","text":"<p>Warning</p> <p>\u5728 <code>driver</code> \u76ee\u5f55\u4e2d\u521b\u5efa\u7ec4\u4ef6\u4e4b\u524d\uff0c\u8bf7\u786e\u4fdd\u60a8\u5df2\u5c06 <code>driver</code> \u76ee\u5f55\u5408\u5e76\u5230\u9879\u76ee\u4e2d\uff0c\u65b9\u6cd5\u662f\u5c06 <code>driver</code> \u76ee\u5f55\u7684\u8def\u5f84\u6dfb\u52a0\u5230\u9879\u76ee\u7ea7 <code>CMakeLists.txt</code> \u6587\u4ef6\u4e2d\u7684 <code>EXTRA_COMPONENT_DIRS</code> \u53d8\u91cf\u4e2d\u3002</p> <p>\u5728 VSCode \u4e2d\u6253\u5f00\u9879\u76ee\uff0c\u6253\u5f00\u96c6\u6210\u7ec8\u7aef\uff0c\u8f93\u5165</p> <pre><code>get_idf \n</code></pre> <p>\u6fc0\u6d3b ESP-IDF \u73af\u5883\u3002\u7136\u540e\u8f93\u5165\u4ee5\u4e0b\u547d\u4ee4\u521b\u5efa\u4e00\u4e2a\u540d\u4e3a <code>tim</code> \u7684\u65b0\u7ec4\u4ef6\uff1a</p> <pre><code>idf.py -C driver create-component tim\n</code></pre> <p>\u4e0a\u9762\u7684\u547d\u4ee4\u610f\u5473\u7740\u5728 <code>driver</code> \u76ee\u5f55\u4e2d\u521b\u5efa\u4e00\u4e2a\u540d\u4e3a <code>tim</code> \u7684\u65b0\u7ec4\u4ef6\u3002\u6267\u884c\u547d\u4ee4\u540e\uff0c\u60a8\u5c06\u5728 <code>driver</code> \u76ee\u5f55\u4e2d\u770b\u5230\u4e00\u4e2a\u540d\u4e3a <code>tim</code> \u7684\u65b0\u76ee\u5f55\u3002\u547d\u4ee4\u5c06\u81ea\u52a8\u751f\u6210\u65b0\u7ec4\u4ef6\u7684 <code>CMakeLists.txt</code> \u6587\u4ef6\uff0c\u4ee5\u53ca <code>tim.h</code> \u548c <code>tim.c</code> \u6587\u4ef6\u3002</p> <p>\u6216\u8005\uff0c\u60a8\u53ef\u4ee5\u5728 <code>driver</code> \u76ee\u5f55\u4e2d\u624b\u52a8\u521b\u5efa <code>tim</code> \u76ee\u5f55\uff0c\u7136\u540e\u5728 <code>tim</code> \u76ee\u5f55\u4e2d\u521b\u5efa <code>CMakeLists.txt</code>\u3001<code>tim.h</code> \u548c <code>tim.c</code> \u6587\u4ef6\u3002</p>"},{"location":"zh/DNESP32S3M/MAIN-CONTROL/TIMER/integration/#_4","title":"\u66ff\u6362\u4ee3\u7801","text":"<p>\u7ec4\u4ef6\u5c42\u9762</p> <p>\u5c06\u672c\u8282\u4e2d\u4ee3\u7801\u5206\u522b\u66ff\u6362\u5230\u7ec4\u4ef6\u4e0b\u7684<code>CMakelists.txt</code>\u3001<code>tim.h</code>\u548c<code>tim.c</code>\u6587\u4ef6\u4e2d\u3002</p> <p>\u9879\u76ee\u5c42\u9762</p> <p>\u5c06<code>main.c</code>\u4e2d\u7684\u4ee3\u7801\u66ff\u6362\u4e3a\u76f8\u5e94\u7684\u4ee3\u7801\u3002\u9879\u76ee\u5c42\u9762\u7684<code>CMakeLists.txt</code>\u6587\u4ef6\u65e0\u9700\u66f4\u6539\u3002</p>"},{"location":"zh/DNESP32S3M/MAIN-CONTROL/TIMER/integration/#_5","title":"\u7f16\u8bd1\u70e7\u5f55","text":"<p>\u5728 VSCode \u4e2d\u6253\u5f00\u9879\u76ee\uff0c\u6253\u5f00\u96c6\u6210\u7ec8\u7aef\uff0c\u8f93\u5165</p> <p><pre><code>idf.py build flash monitor\n</code></pre> \u6b64\u65f6\uff0c\u60a8\u5c06\u770b\u5230 LED \u6bcf\u9694 1s \u95ea\u70c1\u4e00\u6b21\uff0c\u8fd9\u662f\u7531\u5b9a\u65f6\u5668\u5468\u671f\u8bbe\u7f6e\u7684\u3002</p>"},{"location":"zh/DNESP32S3M/MAIN-CONTROL/TIMER/note/","title":"\u5b9a\u65f6\u5668","text":""},{"location":"zh/DNESP32S3M/MAIN-CONTROL/TIMER/note/#_2","title":"\u4ecb\u7ecd","text":"<p>\u672c\u7ae0\u4ecb\u7ecd ESP32 \u5b9a\u65f6\u5668\u7684\u4f7f\u7528\u3002</p> <p>\u5b9a\u65f6\u5668</p> <p>\u5b9a\u65f6\u5668\u662f\u5355\u7247\u673a\u5185\u90e8\u96c6\u6210\u7684\u529f\u80fd\uff0c\u5b83\u80fd\u591f\u901a\u8fc7\u7f16\u7a0b\u8fdb\u884c\u7075\u6d3b\u63a7\u5236\u3002\u5355\u7247\u673a\u7684\u5b9a\u65f6\u529f\u80fd\u4f9d\u8d56\u4e8e\u5185\u90e8\u7684\u8ba1\u6570\u5668\u5b9e\u73b0\uff0c\u6bcf\u5f53\u5355\u7247\u673a\u7ecf\u5386\u4e00\u4e2a\u673a\u5668\u5468\u671f\u5e76\u4ea7\u751f\u4e00\u4e2a\u8109\u51b2\u65f6\uff0c\u8ba1\u6570\u5668\u5c31\u4f1a\u9012\u589e\u3002\u5b9a\u65f6\u5668\u7684\u4e3b\u8981\u4f5c\u7528\u5728\u4e8e\u8ba1\u65f6\uff0c\u5f53\u8bbe\u5b9a\u7684\u65f6\u95f4\u5230\u8fbe\u540e\uff0c\u5b83\u4f1a\u89e6\u53d1\u4e2d\u65ad\uff0c\u4ece\u800c\u901a\u77e5\u7cfb\u7edf\u8ba1\u65f6\u5b8c\u6210\u3002\u5728\u4e2d\u65ad\u670d\u52a1\u51fd\u6570\u4e2d\uff0c\u6211\u4eec\u53ef\u4ee5\u7f16\u5199\u7279\u5b9a\u7684\u7a0b\u5e8f\u4ee5\u5b9e\u73b0\u6240\u9700\u7684\u529f\u80fd\u3002</p> <p>\u5b9a\u65f6\u5668\u80fd\u505a\u4ec0\u4e48</p> <ul> <li> <p>\u6267\u884c\u5b9a\u65f6\u4efb\u52a1\uff1a\u5b9a\u65f6\u5668\u5e38\u7528\u4e8e\u5468\u671f\u6027\u6267\u884c\u7279\u5b9a\u4efb\u52a1\u3002\u4f8b\u5982\uff0c\u82e5\u9700\u8981\u6bcf 500 \u6beb\u79d2\u6267\u884c\u67d0\u9879\u4efb\u52a1\uff0c\u5b9a\u65f6\u5668\u80fd\u591f\u7cbe\u51c6\u5730\u6ee1\u8db3\u8fd9\u4e00\u9700\u6c42\u3002</p> </li> <li> <p>\u65f6\u95f4\u6d4b\u91cf\uff1a\u5b9a\u65f6\u5668\u80fd\u591f\u7cbe\u786e\u6d4b\u91cf\u65f6\u95f4\uff0c\u65e0\u8bba\u662f\u4ee3\u7801\u6bb5\u7684\u6267\u884c\u65f6\u95f4\u8fd8\u662f\u4e8b\u4ef6\u53d1\u751f\u7684\u95f4\u9694\u65f6\u95f4\uff0c\u90fd\u80fd\u901a\u8fc7\u5b9a\u65f6\u5668\u8fdb\u884c\u51c6\u786e\u7684\u8ba1\u91cf\u3002</p> </li> <li> <p>\u7cbe\u786e\u5ef6\u65f6\uff1a\u5bf9\u4e8e\u9700\u8981\u5fae\u79d2\u7ea7\u7cbe\u5ea6\u7684\u5ef6\u65f6\u573a\u666f\uff0c\u5b9a\u65f6\u5668\u80fd\u591f\u63d0\u4f9b\u53ef\u9760\u7684\u89e3\u51b3\u65b9\u6848\uff0c\u786e\u4fdd\u5ef6\u65f6\u7684\u7cbe\u786e\u6027\u3002</p> </li> <li> <p>PWN\u4fe1\u53f7\u751f\u6210\uff1a\u901a\u8fc7\u5b9a\u65f6\u5668\u7684\u7cbe\u786e\u63a7\u5236\uff0c\u6211\u4eec\u53ef\u4ee5\u751f\u6210PWM\uff08\u8109\u5bbd\u8c03\u5236\uff09\u4fe1\u53f7\uff0c\u8fd9\u5bf9\u4e8e\u9a71\u52a8\u7535\u673a\u3001\u8c03\u8282 LED \u4eae\u5ea6\u7b49\u5e94\u7528\u81f3\u5173\u91cd\u8981\u3002</p> </li> <li> <p>\u4e8b\u4ef6\u89e6\u53d1\u4e0e\u76d1\u63a7\uff1a\u5b9a\u65f6\u5668\u4e0d\u4ec5\u7528\u4e8e\u89e6\u53d1\u4e2d\u65ad\uff0c\u5b9e\u73b0\u4e8b\u4ef6\u9a71\u52a8\u7684\u903b\u8f91\uff0c\u8fd8\u53ef\u7528\u4e8e\u5b9e\u73b0\u770b\u95e8\u72d7\u529f\u80fd\uff0c\u76d1\u63a7\u7cfb\u7edf\u72b6\u6001\uff0c\u5e76\u5728\u5fc5\u8981\u65f6\u8fdb\u884c\u590d\u4f4d\u64cd\u4f5c\uff0c\u786e\u4fdd\u7cfb\u7edf\u7684\u7a33\u5b9a\u8fd0\u884c\u3002</p> </li> </ul> <p>\u5b9a\u65f6\u5668\u7c7b\u578b</p> <p>\u5b9a\u65f6\u5668\u65e2\u53ef\u901a\u8fc7\u786c\u4ef6\u5b9e\u73b0\uff0c\u4e5f\u53ef\u57fa\u4e8e\u8f6f\u4ef6\u8fdb\u884c\u8bbe\u8ba1\uff0c\u4e8c\u8005\u5404\u5177\u7279\u8272\uff0c\u9002\u7528\u4e8e\u4e0d\u540c\u573a\u666f\uff1a \u786c\u4ef6\u5b9a\u65f6\u5668\uff0c\u4f9d\u6258\u5fae\u63a7\u5236\u5668\u7684\u5185\u7f6e\u786c\u4ef6\u673a\u5236\uff0c\u901a\u8fc7\u4e13\u95e8\u7684\u8ba1\u65f6/\u8ba1\u6570\u5668\u7535\u8def\u8fbe\u6210\u5b9a\u65f6\u529f\u80fd\u3002\u5176\u663e\u8457\u4f18\u52bf\u5728\u4e8e\u9ad8\u7cbe\u5ea6\u4e0e\u9ad8\u53ef\u9760\u6027\uff0c\u8fd9\u662f\u56e0\u4e3a\u786c\u4ef6\u5b9a\u65f6\u5668\u7684\u5de5\u4f5c\u72ec\u7acb\u4e8e\u8f6f\u4ef6\u4efb\u52a1\u548c\u64cd\u4f5c\u7cfb\u7edf\u8c03\u5ea6\uff0c\u6545\u800c\u4e0d\u53d7\u5b83\u4eec\u7684\u5f71\u54cd\u3002\u5728\u8ffd\u6c42\u6781\u9ad8\u5b9a\u65f6\u7cbe\u786e\u5ea6\u7684\u573a\u5408\uff0c\u5982\u751f\u6210 PWM \u4fe1\u53f7\u6216\u8fdb\u884c\u7cbe\u786e\u65f6\u95f4\u6d4b\u91cf\u65f6\uff0c\u786c\u4ef6\u5b9a\u65f6\u5668\u65e0\u7591\u662f\u6700\u4f73\u9009\u62e9\u3002\u5176\u5de5\u4f5c\u539f\u7406\u786e\u4fdd\u5373\u4fbf\u4e3b CPU \u5fd9\u4e8e\u5176\u4ed6\u4efb\u52a1\uff0c\u5b9a\u65f6\u5668\u4e5f\u80fd\u5728\u9884\u8bbe\u65f6\u95f4\u51c6\u786e\u89e6\u53d1\u76f8\u5e94\u64cd\u4f5c\u3002 \u800c\u8f6f\u4ef6\u5b9a\u65f6\u5668\uff0c\u5219\u662f\u901a\u8fc7\u64cd\u4f5c\u7cfb\u7edf\u6216\u8f6f\u4ef6\u5e93\u6a21\u62df\u5b9e\u73b0\u7684\u5b9a\u65f6\u529f\u80fd\u3002\u8fd9\u7c7b\u5b9a\u65f6\u5668\u7684\u6027\u80fd\u53d7\u7cfb\u7edf\u5f53\u524d\u8d1f\u8f7d\u548c\u4efb\u52a1\u8c03\u5ea6\u7b56\u7565\u5236\u7ea6\uff0c\u56e0\u6b64\u5728\u7cbe\u5ea6\u4e0a\u8f83\u786c\u4ef6\u5b9a\u65f6\u5668\u7a0d\u900a\u4e00\u7b79\u3002\u7136\u800c\uff0c\u8f6f\u4ef6\u5b9a\u65f6\u5668\u5728\u7075\u6d3b\u6027\u65b9\u9762\u66f4\u80dc\u4e00\u7b79\uff0c\u5141\u8bb8\u521b\u5efa\u5927\u91cf\u5b9a\u65f6\u5668\uff0c\u9002\u7528\u4e8e\u5bf9\u65f6\u95f4\u63a7\u5236\u8981\u6c42\u4e0d\u90a3\u4e48\u4e25\u683c\u7684\u573a\u666f\u3002\u503c\u5f97\u6ce8\u610f\u7684\u662f\uff0c\u8f6f\u4ef6\u5b9a\u65f6\u5668\u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\u53ef\u80fd\u9762\u4e34\u5b9a\u65f6\u7cbe\u5ea6\u95ee\u9898\uff0c\u7279\u522b\u662f\u5728\u7cfb\u7edf\u8d1f\u8f7d\u8f83\u91cd\u6216\u5b58\u5728\u4f17\u591a\u9ad8\u4f18\u5148\u7ea7\u4efb\u52a1\u65f6\u3002\u4e0d\u8fc7\uff0c\u5bf9\u4e8e\u7b80\u5355\u7684\u975e\u9ad8\u7cbe\u5ea6\u5ef6\u65f6\u9700\u6c42\uff0c\u8f6f\u4ef6\u5b9a\u65f6\u5668\u901a\u5e38\u5df2\u7ecf\u8db3\u591f\u5e94\u5bf9\u3002</p>"},{"location":"zh/DNESP32S3M/MAIN-CONTROL/TIMER/note/#esp32-s3","title":"ESP32-S3 \u5b9a\u65f6\u5668\u6574\u4f53\u6846\u67b6","text":"<p>\u7cfb\u7edf\u5b9a\u65f6\u5668\u5185\u7f6e\u4e24\u4e2a\u8ba1\u6570\u5668 UNIT0 \u548c UNIT1(\u5982\u56fe\u6240\u793a)\u4ee5\u53ca\u4e09\u4e2a\u6bd4\u8f83\u5668 COMP0\u3001COMP1\u3001COMP2(\u5982\u56fe\u6240\u793a)\u3002\u6bd4\u8f83\u5668\u7528\u4e8e\u76d1\u63a7\u8ba1\u6570\u5668\u7684\u8ba1\u6570\u503c\u662f\u5426\u8fbe\u5230\u62a5\u8b66\u503c\u3002</p> <p>(1) \u8ba1\u6570\u5668</p> <p>UNIT0\u3001UNIT1 \u5747\u4e3a ESP32-S3 \u7cfb\u7edf\u5b9a\u65f6\u5668\u5185\u7f6e\u7684 52 \u4f4d\u8ba1\u6570\u5668\u3002\u8ba1\u6570\u5668\u4f7f\u7528 XTAL_CLK \u4f5c\u4e3a\u65f6\u949f\u6e90(40MHz)\u3002XTAL_CLK \u7ecf\u5206\u9891\u540e\uff0c\u5728\u4e00\u4e2a\u8ba1\u6570\u5468\u671f\u751f\u6210\u9891\u7387\u4e3a fXTAL_CLK/3 \u7684\u65f6\u949f\u4fe1\u53f7\uff0c\u7136\u540e\u5728\u53e6\u4e00\u4e2a\u8ba1\u6570\u5468\u671f\u751f\u6210\u9891\u7387\u4e3a fXTAL_CLK/2 \u7684\u65f6\u949f\u4fe1\u53f7\u3002\u56e0\u6b64\uff0c\u8ba1\u6570\u5668\u4f7f\u7528\u7684\u65f6\u949fCNT_CLK\uff0c\u5176\u5b9e\u9645\u5e73\u5747\u9891\u7387\u4e3a fXTAL_CLK/2.5\uff0c\u5373 16MHz\uff0c\u89c1\u56fe 14.1.2\u3002\u6bcf\u4e2a CNT_CLK \u65f6\u949f\u5468\u671f\uff0c\u8ba1\u6570\u9012\u589e 1/16\u00b5s\uff0c\u5373 16 \u4e2a\u5468\u671f\u9012\u589e 1\u00b5s\u3002\u7528\u6237\u53ef\u4ee5\u901a\u8fc7\u914d\u7f6e\u5bc4\u5b58\u5668 SYSTIMER_CONF_REG \u4e2d\u4e0b\u9762\u4e09\u4e2a\u4f4d\u6765\u63a7\u5236\u8ba1\u6570\u5668 UNITn\uff0c\u8fd9\u4e09\u4e2a\u4f4d\u5206\u522b\u662f\uff1a \u2460\uff1aSYSTIMER_TIMER_UNITn_WORK_EN \u2461\uff1aSYSTIMER_TIMER_UNITn_CORE0_STALL_EN \u2462\uff1aSYSTIMER_TIMER_UNITn_CORE1_STALL_EN \u5173\u4e8e\u8fd9\u4e09\u4f4d\u7684\u914d\u7f6e\u8bf7\u53c2\u8003\u300aesp32-s3_technical_reference_manual_cn\u300b</p> <p>(2) \u6bd4\u8f83\u5668</p> <p>COMP0\u3001COMP1\u3001COMP2 \u5747\u4e3a ESP32-S3 \u7cfb\u7edf\u5b9a\u65f6\u5668\u5185\u7f6e\u7684 52 \u4f4d\u6bd4\u8f83\u5668\u3002\u6bd4\u8f83\u5668\u540c\u6837\u4f7f\u7528 XTAL_CLK \u4f5c\u4e3a\u65f6\u949f\u6e90(40MHz)\u3002</p> <p></p> <p>\u4e0a\u56fe\u5c55\u793a\u4e86\u7cfb\u7edf\u5b9a\u65f6\u5668\u751f\u6210\u62a5\u8b66\u7684\u8fc7\u7a0b\u3002\u5728\u4e0a\u8ff0\u8fc7\u7a0b\u4e2d\u7528\u5230\u4e00\u4e2a\u8ba1\u6570\u5668(Timer Countern)\u548c\u4e00\u4e2a\u6bd4\u8f83\u5668(Timer Comparatorx)\uff0c\u6bd4\u8f83\u5668\u5c06\u6839\u636e\u6bd4\u8f83\u7ed3\u679c\uff0c\u751f\u6210\u62a5\u8b66\u4e2d\u65ad\u3002</p>"},{"location":"zh/DNESP32S3M/MAIN-CONTROL/TIMER/note/#_3","title":"\u7528\u4f8b","text":"<p>\u6211\u4eec\u6765\u8bbe\u8ba1\u4e00\u4e2a\u7a0b\u5e8f\uff0c\u7a0b\u5e8f\u8fd0\u884c\u540e\u914d\u7f6e\u9ad8\u5206\u8fa8\u7387\u5b9a\u65f6\u5668\uff0c\u5e76\u5f00\u542f\u4e2d\u65ad\uff0c\u5728\u4e2d\u65ad\u56de\u8c03\u51fd\u6570\u4e2d\u7ffb\u8f6cLED \u7684\u72b6\u6001\u3002\u7531\u4e8e\u4f7f\u7528\u7684\u90fd\u662f\u677f\u4e0a\u8d44\u6e90\uff0c\u6ca1\u6709\u8fde\u7ebf\u3002</p>"},{"location":"zh/DNESP32S3M/MAIN-CONTROL/TIMER/note/#_4","title":"\u4f9d\u8d56\u5173\u7cfb","text":""},{"location":"zh/DNESP32S3M/MAIN-CONTROL/TIMER/note/#_5","title":"\u5173\u952e\u51fd\u6570","text":"\u51fd\u6570\u539f\u578b \u8bf4\u660e \u793a\u4f8b void esptim_int_init(uint64_t tps); \u521d\u59cb\u5316\u9ad8\u7cbe\u5ea6\u5b9a\u65f6\u5668(ESP_TIMER) exit_init(); void esptim_callback(void *arg); \u5b9a\u65f6\u5668\u56de\u8c03\u51fd\u6570 exit_callback(); esp_err_t esp_timer_create(const esp_timer_create_args_t* args, esp_timer_handle_t* out_handle) \u521b\u5efa\u65b0\u5b9a\u65f6\u5668 esp_timer_create(&amp;tim_periodic_arg, &amp;esp_tim_handle); esp_err_t IRAM_ATTR esp_timer_start_periodic(esp_timer_handle_t timer, uint64_t period_us) \u542f\u52a8\u5468\u671f\u6027\u5b9a\u65f6\u5668 esp_timer_start_periodic(esp_tim_handle, tps);"},{"location":"zh/DNESP32S3M/MAIN-CONTROL/TIMER/note/#_6","title":"\u603b\u7ed3","text":"<p>Note</p> <p>\u672c\u7ae0\u4ecb\u7ecd\u4e86 ESP32 \u5b9a\u65f6\u5668\u7684\u4f7f\u7528\uff0c\u901a\u8fc7\u8bbe\u8ba1\u4e00\u4e2a\u7a0b\u5e8f\uff0c\u5b9e\u73b0\u4e86\u9ad8\u5206\u8fa8\u7387\u5b9a\u65f6\u5668\u7684\u914d\u7f6e\uff0c\u5e76\u5f00\u542f\u4e2d\u65ad\uff0c\u5728\u4e2d\u65ad\u56de\u8c03\u51fd\u6570\u4e2d\u7ffb\u8f6c LED \u7684\u72b6\u6001\u3002\u6bd4\u8f83\u5173\u952e\u7684\u51e0\u4e2a\u70b9\uff1a</p> <ul> <li> <p>\u5982\u4f55\u5c06\u5b9a\u65f6\u5668\u6587\u4ef6\u6dfb\u52a0\u5230\u9879\u76ee\u4e2d\uff0c\u6e90\u6587\u4ef6\uff0c\u5934\u6587\u4ef6\uff0c\u8def\u5f84\u4f9d\u8d56\u7b49\u3002</p> </li> <li> <p>\u5982\u4f55\u6784\u9020\u5b9a\u65f6\u5668\u7684\u521d\u59cb\u5316\u51fd\u6570\u3002</p> </li> <li> <p>\u5982\u4f55\u6784\u9020\u5b9a\u65f6\u5668\u7684\u56de\u8c03\u51fd\u6570\u3002</p> </li> <li> <p>\u5982\u4f55\u5728\u5e94\u7528\u5c42\u8c03\u7528\u5b9a\u65f6\u5668\u521d\u59cb\u5316\u51fd\u6570\u3002</p> </li> </ul>"},{"location":"zh/DNESP32S3M/PERCEPTION/perception/","title":"\u611f\u77e5","text":""},{"location":"zh/DNESP32S3M/PROJECT/project/","title":"\u9879\u76ee\u6784\u5efa","text":""},{"location":"zh/DNESP32S3M/PROJECT/project/#cmakeliststxt","title":"\u9879\u76ee\u5c42\u7ea7 CMakeLists.txt \u6587\u4ef6","text":"<pre><code># The following five lines of boilerplate have to be in your project's\n# CMakeLists in this exact order for cmake to work correctly\ncmake_minimum_required(VERSION 3.16)\n\ninclude($ENV{IDF_PATH}/tools/cmake/project.cmake)\n\nset(EXTRA_COMPONENT_DIRS \"./driver\" \"./middleware\" \"./application\")\n\nproject(DNESP32S3-CORE)\n</code></pre> <p>Note</p> <p>\u4e3a\u4e86\u4e0e\u524d\u9762\u4ecb\u7ecd\u7684\u9879\u76ee\u4ee3\u7801\u67b6\u6784\u4fdd\u6301\u4e00\u81f4\uff0c\u6211\u4eec\u5efa\u8bae\u60a8\u5728\u9879\u76ee\u6839\u76ee\u5f55\u4e0b\u521b\u5efa <code>driver</code>\u3001<code>middleware</code> \u548c <code>application</code> \u76ee\u5f55\uff0c\u5e76\u5c06\u76f8\u5e94\u7684\u4ee3\u7801\u653e\u5728\u76f8\u5e94\u7684\u76ee\u5f55\u4e2d\u3002\u8981\u5c06\u8fd9\u4e9b\u76ee\u5f55\u5408\u5e76\u5230\u9879\u76ee\u4e2d\uff0c\u60a8\u9700\u8981\u5c06\u8fd9\u4e9b\u76ee\u5f55\u7684\u8def\u5f84\u6dfb\u52a0\u5230\u9879\u76ee\u7ea7 <code>CMakeLists.txt</code> \u6587\u4ef6\u4e2d\u7684 <code>EXTRA_COMPONENT_DIRS</code> \u53d8\u91cf\u4e2d\u3002</p> <p>Danger</p> <p>\u5fc5\u987b\u6ce8\u610f <code>set(EXTRA_COMPONENT_DIRS \"./driver\" \"./middleware\" \"./application\")</code> \u5fc5\u987b\u653e\u5728 <code>project(DNESP32S3-CORE)</code> \u4e4b\u524d\u3002\u5426\u5219\uff0c\u9879\u76ee\u5c06\u65e0\u6cd5\u5728\u8fd9\u4e9b\u76ee\u5f55\u4e2d\u627e\u5230\u7ec4\u4ef6\u3002\u53c2\u8003 LINK\u3002</p>"},{"location":"zh/DNESP32S3M/PROJECT/project/#cmakeliststxt_1","title":"\u4e3b\u76ee\u5f55 CMakeLists.txt","text":"<pre><code># Define source directories\nset(src_dirs\n    .\n)\n\n# Define include directories\nset(include_dirs\n    .\n)\n\n# Define required components\nset(requires\n)\n\n# Register the component\nidf_component_register(\n    SRC_DIRS ${src_dirs}\n    INCLUDE_DIRS ${include_dirs}\n    REQUIRES ${requires}\n)\n\n# Add compilation options\n# component_compile_options(-ffast-math -O3 -Wno-error=format -Wno-format)\n</code></pre>"},{"location":"zh/FKH743M2-IIT6/fkh743m2-iit6/","title":"\u53cd\u5ba2\u79d1\u6280 FKH743M2-IIT6","text":"<p>\ud83d\udcc6</p>"},{"location":"zh/KICK_START/kick_start/","title":"\u5feb\u901f\u4e0a\u624b","text":""},{"location":"zh/KICK_START/ESP32/ENVIRONMENT/environment/","title":"ESP32 \u5f00\u53d1\u73af\u5883\u8bbe\u7f6e","text":"<p>Tip</p> <p>\u5728\u7ee7\u7eed\u4e4b\u524d\uff0c\u5f3a\u70c8\u5efa\u8bae\u60a8\u9605\u8bfb\u5b98\u65b9\u6307\u5357\u4ee5\u8bbe\u7f6e\u5f00\u53d1\u73af\u5883\u3002\u5b98\u65b9\u6307\u5357\u53ef\u4ee5\u5728\u8fd9\u91cc\u627e\u5230\u3002</p> <p>Note</p> <p>\u5982\u9700\u5728 ESP32 \u4e0a\u4f7f\u7528 ESP-IDF\uff0c\u8bf7\u5b89\u88c5\u4ee5\u4e0b\u8f6f\u4ef6\uff1a</p> <ul> <li> <p>\u8bbe\u7f6e\u5de5\u5177\u94fe\uff0c\u7528\u4e8e\u7f16\u8bd1 ESP32 \u4ee3\u7801\uff1b</p> </li> <li> <p>\u7f16\u8bd1\u6784\u5efa\u5de5\u5177 \u2014\u2014 CMake\u548cNinja\u7f16\u8bd1\u6784\u5efa\u5de5\u5177\uff0c\u7528\u4e8e\u7f16\u8bd1ESP32\u5e94\u7528\u7a0b\u5e8f\uff1b</p> </li> <li> <p>\u83b7\u53d6ESP-IDF\u8f6f\u4ef6\u5f00\u53d1\u6846\u67b6\u3002\u8be5\u6846\u67b6\u5df2\u7ecf\u57fa\u672c\u5305\u542bESP32\u4f7f\u7528\u7684API\uff08\u8f6f\u4ef6\u5e93\u548c\u6e90\u4ee3\u7801\uff09\u548c\u8fd0\u884c\u5de5\u5177\u94fe\u7684\u811a\u672c\uff1b</p> </li> </ul> <p></p> <p>Note</p> <p>\u6709\u4e24\u79cd ESP32 ESP-IDF \u7f16\u7a0b\u65b9\u5f0f\uff1a</p> <ul> <li> <p>\u547d\u4ee4\u884c\u754c\u9762\uff08CLI\uff09\uff1aESP-IDF \u7f16\u7a0b\u7684\u57fa\u7840\uff1b</p> </li> <li> <p>\u96c6\u6210\u5f00\u53d1\u73af\u5883\uff08IDE\uff09\uff1a\u9002\u5408\u521d\u5b66\u8005\u3002</p> </li> </ul>"},{"location":"zh/KICK_START/ESP32/ENVIRONMENT/environment/#cli","title":"CLI","text":"<ul> <li> <p> How to Install the ESP-IDF Toolchain on Windows (CLI)</p> <p>  \u4f20\u9001\u95e8 </p> </li> </ul>"},{"location":"zh/KICK_START/ESP32/ENVIRONMENT/environment/#ide","title":"IDE","text":"<ul> <li> <p> \u3010\u4e50\u946b\u6559\u7a0b\u3011\uff5c\u4f7f\u7528\u4e00\u952e\u5b89\u88c5\u5de5\u5177\u5feb\u901f\u642d\u5efa ESP-IDF \u5f00\u53d1\u73af\u5883 (Windows) \ud83c\udfaf\ud83c\udfc6\u2705</p> <p>  \u4f20\u9001\u95e8 </p> </li> </ul>"},{"location":"zh/KICK_START/ESP32/ENVIRONMENT/environment/#linux","title":"LINUX","text":"<p>Tip</p> <p>ESP-IDF \u5728 Linux \u4e0a\u6bd4\u5728 Windows \u4e0a\u5feb\u5f97\u591a\u3002\u5efa\u8bae\u4f7f\u7528 Linux \u8fdb\u884c ESP-IDF \u5f00\u53d1\u3002</p>"},{"location":"zh/KICK_START/ESP32/ENVIRONMENT/environment/#cli_1","title":"CLI \ud83c\udfaf","text":"<p>Note</p> <p>\u4e00\u5171\u6709\u4e94\u4e2a\u6b65\u9aa4\uff1a</p> <ul> <li> <p>\u7b2c\u4e00\u6b65\uff1a\u5b89\u88c5\u51c6\u5907</p> </li> <li> <p>\u7b2c\u4e8c\u6b65\uff1a\u83b7\u53d6ESP-IDF</p> </li> <li> <p>\u7b2c\u4e09\u6b65\uff1a\u8bbe\u7f6e\u5de5\u5177</p> </li> <li> <p>\u7b2c\u56db\u6b65\uff1a\u8bbe\u7f6e\u73af\u5883\u53d8\u91cf</p> </li> <li> <p>\u7b2c\u4e94\u6b65\uff1a\u5f00\u59cb\u4f7f\u7528</p> </li> </ul>"},{"location":"zh/KICK_START/ESP32/ENVIRONMENT/environment/#-","title":"\u7b2c\u4e00\u6b65 - \u5b89\u88c5\u51c6\u5907","text":"<ul> <li>UBUNTU &amp; DEBIAN</li> </ul> <pre><code>sudo apt-get install git wget flex bison gperf python3 python3-pip python3-venv cmake ninja-build ccache libffi-dev libssl-dev dfu-util libusb-1.0-0\n</code></pre> <ul> <li>CENTOS</li> </ul> <pre><code>sudo yum -y update &amp;&amp; sudo yum install git wget flex bison gperf python3 python3-setuptools cmake ninja-build ccache dfu-util libusbx\n</code></pre>"},{"location":"zh/KICK_START/ESP32/ENVIRONMENT/environment/#-esp-idf","title":"\u7b2c\u4e8c\u6b65 - \u83b7\u53d6 ESP-IDF","text":"<p>\u5728\u56f4\u7ed5 ESP32 \u6784\u5efa\u5e94\u7528\u7a0b\u5e8f\u4e4b\u524d\uff0c\u8bf7\u5148\u83b7\u53d6\u4e50\u946b\u63d0\u4f9b\u7684\u8f6f\u4ef6\u5e93\u6587\u4ef6 ESP-IDF \u4ed3\u5e93\u3002</p> <p>\u83b7\u53d6 ESP-IDF \u7684\u672c\u5730\u526f\u672c\uff1a\u6253\u5f00\u7ec8\u7aef\uff0c\u5207\u6362\u5230\u8981\u4fdd\u5b58 ESP-IDF \u7684\u5de5\u4f5c\u76ee\u5f55\uff0c\u4f7f\u7528 git clone \u547d\u4ee4\u514b\u9686\u8fdc\u7a0b\u4ed3\u5e93\u3002\u9488\u5bf9\u4e0d\u540c\u64cd\u4f5c\u7cfb\u7edf\u7684\u8be6\u7ec6\u6b65\u9aa4\uff0c\u8bf7\u89c1\u4e0b\u6587\u3002</p> <p>\u6253\u5f00\u7ec8\u7aef\uff0c\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\uff1a</p> <p><pre><code>mkdir -p ~/esp\ncd ~/esp\ngit clone --recursive https://github.com/espressif/esp-idf.git\n</code></pre> ESP-IDF \u5c06\u4e0b\u8f7d\u81f3 <code>~/esp/esp-idf</code>\u3002</p> <p>\u8bf7\u524d\u5f80ESP-IDF \u7248\u672c\u7b80\u4ecb\uff0c\u67e5\u770b ESP-IDF \u4e0d\u540c\u7248\u672c\u7684\u5177\u4f53\u9002\u7528\u573a\u666f\u3002</p>"},{"location":"zh/KICK_START/ESP32/ENVIRONMENT/environment/#-_1","title":"\u7b2c\u4e09\u6b65 - \u8bbe\u7f6e\u5de5\u5177","text":"<p>\u9664\u4e86 ESP-IDF \u672c\u8eab\uff0c\u8fd8\u9700\u8981\u4e3a\u652f\u6301 ESP32 \u7684\u9879\u76ee\u5b89\u88c5 ESP-IDF \u4f7f\u7528\u7684\u5404\u79cd\u5de5\u5177\uff0c\u6bd4\u5982\u7f16\u8bd1\u5668\u3001\u8c03\u8bd5\u5668\u3001Python \u5305\u7b49\u3002</p> <pre><code>cd ~/esp/esp-idf\n./install.sh all\n</code></pre>"},{"location":"zh/KICK_START/ESP32/ENVIRONMENT/environment/#-_2","title":"\u7b2c\u56db\u6b65 - \u8bbe\u7f6e\u73af\u5883\u53d8\u91cf","text":"<p>\u6b64\u65f6\uff0c\u521a\u521a\u5b89\u88c5\u7684\u5de5\u5177\u5c1a\u672a\u6dfb\u52a0\u81f3 PATH \u73af\u5883\u53d8\u91cf\uff0c\u65e0\u6cd5\u901a\u8fc7\u201c\u547d\u4ee4\u7a97\u53e3\u201d\u4f7f\u7528\u8fd9\u4e9b\u5de5\u5177\u3002\u56e0\u6b64\uff0c\u5fc5\u987b\u8bbe\u7f6e\u4e00\u4e9b\u73af\u5883\u53d8\u91cf\u3002\u8fd9\u53ef\u4ee5\u901a\u8fc7 ESP-IDF \u63d0\u4f9b\u7684\u53e6\u4e00\u4e2a\u811a\u672c\u8fdb\u884c\u8bbe\u7f6e\u3002</p> <p>\u8bf7\u5728\u9700\u8981\u8fd0\u884c ESP-IDF \u7684\u7ec8\u7aef\u7a97\u53e3\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\uff1a</p> <pre><code>. $HOME/esp/esp-idf/export.sh\n</code></pre> <p>\u5982\u679c\u9700\u8981\u7ecf\u5e38\u8fd0\u884c ESP-IDF\uff0c\u53ef\u4ee5\u4e3a\u6267\u884c export.sh \u521b\u5efa\u4e00\u4e2a\u522b\u540d\uff0c\u5177\u4f53\u6b65\u9aa4\u5982\u4e0b\uff1a</p> <p>(1) \u6253\u5f00 shell \u914d\u7f6e\u6587\u4ef6</p> <pre><code>nano ~/.bashrc\n</code></pre> <p>(2) \u590d\u5236\u5e76\u7c98\u8d34\u4ee5\u4e0b\u547d\u4ee4\u5230 shell \u914d\u7f6e\u6587\u4ef6\u4e2d</p> <pre><code>alias get_idf='. $HOME/esp/esp-idf/export.sh'\n</code></pre> <p>(3) \u901a\u8fc7\u91cd\u542f\u7ec8\u7aef\u7a97\u53e3\u6216\u8fd0\u884c <code>source [path to profile]</code>\uff0c\u5982 <code>source ~/.bashrc</code> \u6765\u5237\u65b0\u914d\u7f6e\u6587\u4ef6\u3002</p> <p>\u73b0\u5728\u53ef\u4ee5\u5728\u4efb\u4f55\u7ec8\u7aef\u7a97\u53e3\u4e2d\u8fd0\u884c <code>get_idf</code> \u6765\u8bbe\u7f6e\u6216\u5237\u65b0 ESP-IDF \u73af\u5883\u3002</p> <p>\u4e0d\u5efa\u8bae\u76f4\u63a5\u5c06 <code>export.sh</code> \u6dfb\u52a0\u5230 shell \u7684\u914d\u7f6e\u6587\u4ef6\u3002\u8fd9\u6837\u505a\u4f1a\u5bfc\u81f4\u5728\u6bcf\u4e2a\u7ec8\u7aef\u4f1a\u8bdd\u4e2d\u90fd\u6fc0\u6d3b IDF \u865a\u62df\u73af\u5883\uff08\u5305\u62ec\u65e0\u9700\u4f7f\u7528 ESP-IDF \u7684\u4f1a\u8bdd\uff09\u3002\u8fd9\u8fdd\u80cc\u4e86\u4f7f\u7528\u865a\u62df\u73af\u5883\u7684\u76ee\u7684\uff0c\u8fd8\u53ef\u80fd\u5f71\u54cd\u5176\u4ed6\u8f6f\u4ef6\u7684\u4f7f\u7528\u3002</p>"},{"location":"zh/KICK_START/ESP32/ENVIRONMENT/environment/#-_3","title":"\u7b2c\u4e94\u6b65 - \u5f00\u59cb\u4f7f\u7528","text":"<p>\u8bf7\u53c2\u8003\u5176\u4ed6\u6559\u7a0b\uff0c\u5f00\u59cb\u4f7f\u7528 ESP-IDF\u3002</p>"},{"location":"zh/KICK_START/ESP32/ENVIRONMENT/environment/#ide_1","title":"IDE","text":"<ul> <li> <p> \u3010\u4e50\u946b\u6559\u7a0b\u3011\uff5c\u4f7f\u7528 VS Code \u5feb\u901f\u642d\u5efa ESP-IDF \u5f00\u53d1\u73af\u5883 (Windows\u3001Linux\u3001MacOS) \ud83c\udfaf\ud83c\udfc6\u2705</p> <p>Recommended.</p> <p>  \u4f20\u9001\u95e8 </p> </li> </ul>"},{"location":"zh/KICK_START/ESP32/ENVIRONMENT/environment/#esp-idf","title":"\u5378\u8f7dESP-IDF","text":"<p>(1) \u5220\u9664 ESP-IDF \u6587\u4ef6\u5939</p> <p>\u9996\u5148\uff0c\u627e\u5230\u5b89\u88c5 ESP-IDF \u7684\u76ee\u5f55\uff08\u901a\u5e38\u5728 <code>~/esp/esp-idf</code>\uff09\u3002\u4f60\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u5220\u9664\u8be5\u76ee\u5f55\uff1a</p> <pre><code>rm -rf ~/esp/esp-idf\n</code></pre> <p>(2) \u5220\u9664\u5de5\u5177\u94fe</p> <p>ESP-IDF \u7684 install.sh \u811a\u672c\u4f1a\u4e0b\u8f7d\u5e76\u5b89\u88c5\u4e00\u4e9b\u5de5\u5177\u94fe\u548c\u4f9d\u8d56\uff0c\u901a\u5e38\u4f4d\u4e8e <code>~/.espressif</code> \u76ee\u5f55\u3002\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u5220\u9664\u8be5\u76ee\u5f55\uff1a</p> <pre><code>rm -rf ~/.espressif\n</code></pre> <p>(3) \u5220\u9664\u73af\u5883\u53d8\u91cf \u5982\u679c\u4f60\u5728 shell \u914d\u7f6e\u6587\u4ef6\uff08\u4f8b\u5982 <code>~/.bashrc</code> \u6216 <code>~/.zshrc</code>\uff09\u4e2d\u6dfb\u52a0\u4e86\u7528\u4e8e\u5feb\u901f\u52a0\u8f7d ESP-IDF \u73af\u5883\u53d8\u91cf\u7684\u522b\u540d\uff08\u5982 <code>get_idf</code>\uff09\uff0c\u5219\u9700\u8981\u7f16\u8f91\u8fd9\u4e9b\u914d\u7f6e\u6587\u4ef6\u5e76\u5220\u9664\u8be5\u522b\u540d\u3002\u53ef\u4ee5\u4f7f\u7528\u5982\u4e0b\u547d\u4ee4\u6253\u5f00\u5e76\u7f16\u8f91\u6587\u4ef6</p> <pre><code>nano ~/.bashrc\n</code></pre> <p>(4) \u5237\u65b0\u914d\u7f6e\u6587\u4ef6</p> <p>\u6700\u540e\uff0c\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u4ee5\u4f7f\u66f4\u6539\u751f\u6548\uff1a</p> <pre><code>source ~/.bashrc\n</code></pre>"},{"location":"zh/KICK_START/ESP32/ENVIRONMENT/environment/#vscode-esp-idf","title":"VSCode ESP-IDF\u63d2\u4ef6","text":"<p>Note</p> <p>\u8fd9\u662f\u5f53\u524d\u6700\u6d41\u884c\u7684ESP-IDF\u5f00\u53d1\u65b9\u5f0f\u4e4b\u4e00\u3002VSCode\u662f\u4e00\u4e2a\u8f7b\u91cf\u7ea7\u7684\u4ee3\u7801\u7f16\u8f91\u5668\uff0c\u652f\u6301\u591a\u79cd\u7f16\u7a0b\u8bed\u8a00\uff0c\u5305\u62ecC/C++\u3002ESP-IDF\u63d2\u4ef6\u4e3aVSCode\u63d0\u4f9b\u4e86\u5bf9ESP-IDF\u7684\u5b8c\u6574\u652f\u6301\uff0c\u5305\u62ec\u4ee3\u7801\u81ea\u52a8\u5b8c\u6210\u3001\u8c03\u8bd5\u3001\u6784\u5efa\u548c\u70e7\u5f55\u7b49\u529f\u80fd\u3002</p> <ol> <li> <p>\u5b89\u88c5VSCode</p> <p>\u9996\u5148\uff0c\u4f60\u9700\u8981\u5b89\u88c5VSCode\u3002\u4f60\u53ef\u4ee5\u4ece\u8fd9\u91cc\u4e0b\u8f7d\u9002\u7528\u4e8e\u4f60\u7684\u64cd\u4f5c\u7cfb\u7edf\u7684\u5b89\u88c5\u7a0b\u5e8f\u3002</p> </li> <li> <p>\u5b89\u88c5ESP-IDF\u63d2\u4ef6</p> <p>\u5b89\u88c5ESP-IDF\u63d2\u4ef6\u7684\u6b65\u9aa4\u5982\u4e0b\uff1a</p> <ul> <li>\u6253\u5f00VSCode\u3002</li> <li>\u70b9\u51fb\u5de6\u4fa7\u7684\u6269\u5c55\u56fe\u6807\u3002</li> <li>\u5728\u641c\u7d22\u6846\u4e2d\u8f93\u5165\u201cESP-IDF\u201d\u3002</li> <li>\u70b9\u51fb\u201c\u5b89\u88c5\u201d\u6309\u94ae\u3002</li> </ul> </li> <li> <p>\u914d\u7f6eESP-IDF\u8def\u5f84 \u548c ESP-IDF tools\u8def\u5f84</p> <p>\u5b89\u88c5ESP-IDF\u63d2\u4ef6\u540e\uff0c\u4f60\u9700\u8981\u914d\u7f6eESP-IDF\u8def\u5f84\u548cESP-IDF tools\u8def\u5f84\u3002\u8fd9\u4e9b\u8def\u5f84\u544a\u8bc9\u63d2\u4ef6\u5728\u54ea\u91cc\u627e\u5230ESP-IDF\u548c\u76f8\u5173\u5de5\u5177\u3002</p> <ul> <li>\u6253\u5f00VSCode\u3002</li> <li>\u70b9\u51fb\u5de6\u4e0b\u89d2\u7684\u201c\u8bbe\u7f6e\u201d\u56fe\u6807\u3002</li> <li>\u5728\u641c\u7d22\u6846\u4e2d\u8f93\u5165\u201cESP-IDF\u201d\u3002</li> <li>\u5728\u201cESP-IDF\u8def\u5f84\u201d\u548c\u201cESP-IDF tools\u8def\u5f84\u201d\u5b57\u6bb5\u4e2d\u8f93\u5165ESP-IDF\u548cESP-IDF tools\u7684\u8def\u5f84\u3002\uff08\u5982\u679c\u7535\u8111\u4e0a\u6ca1\u6709\uff0c\u8bbe\u7f6e\u597d\u8def\u5f84\uff0c\u63d2\u4ef6\u4f1a\u81ea\u52a8\u4e0b\u8f7d\uff09</li> <li>\u4fdd\u5b58\u8bbe\u7f6e\u3002</li> </ul> </li> <li> <p>\u521b\u5efa\u65b0\u9879\u76ee</p> </li> </ol>"},{"location":"zh/KICK_START/ESP32/HANDS-ON/hands-on/","title":"\u4e0a\u624b\u5b9e\u8df5","text":""},{"location":"zh/KICK_START/ESP32/HANDS-ON/hands-on/#_2","title":"\u7a0b\u5e8f\u51c6\u5907","text":"<p>\u8fd9\u91cc\u6211\u4eec\u627e\u4e00\u4e2a\u5408\u9002\u7684\u8def\u5f84\uff0c\u4e0b\u8f7d\u4e00\u4e9b\u6848\u4f8b\u7a0b\u5e8f\uff1a</p> <pre><code>git clone --recursive https://gitee.com/vi-iot/esp32-board.git\n</code></pre>"},{"location":"zh/KICK_START/ESP32/HANDS-ON/hands-on/#_3","title":"\u786c\u4ef6\u51c6\u5907","text":"<p>\u5c06ESP32\u5f00\u53d1\u677f\u4e0e\u7535\u8111\u8fde\u63a5</p>"},{"location":"zh/KICK_START/ESP32/HANDS-ON/hands-on/#_4","title":"\u9009\u5b9a\u6848\u4f8b\u7a0b\u5e8f","text":"<p>\u8fdb\u5165\u6211\u4eec\u521a\u521a\u4e0b\u8f7d\u7684\u4ed3\u5e93esp32-board\uff0c\u627e\u5230\u4e00\u4e2a\u6848\u4f8b\u7a0b\u5e8f\uff0c\u6bd4\u5982<code>helloworld</code>\uff0c\u8fdb\u5165\u8be5\u76ee\u5f55\uff1a</p> <pre><code>cd esp32-board\ncd helloworld\n</code></pre>"},{"location":"zh/KICK_START/ESP32/HANDS-ON/hands-on/#_5","title":"\u8bbe\u5b9a\u5f00\u53d1\u677f\u7c7b\u578b","text":"<p>ESP32\u73af\u5883\u95ee\u9898</p> <p>\u5982\u679c\u4f60\u5f53\u524d\u4e0d\u5728ESP32\u73af\u5883\u4e2d\uff0c\u53ef\u4ee5\u8f93\u5165<code>get_idf</code>\u6765\u8c03\u7528ESP32\u73af\u5883\u3002\u6ce8\u610f\uff0c\u53ea\u6709\u6b63\u786e\u8bbe\u7f6e\u4e86SHELL\u4e2d\u7684\u522b\u540d\u540e\uff0c\u624d\u80fd\u4f7f\u7528<code>get_idf</code>, \u8bf7\u53c2\u8003\u4e0a\u4e00\u7bc7\u6559\u7a0b\u3002</p> <p>\u5982\u679c\u662f\u4e00\u822c\u7684esp32\u5f00\u53d1\u677f\uff0c\u8fd9\u4e00\u6b65\u5176\u5b9e\u53ef\u4ee5\u4e0d\u7528\u7ba1\uff0c\u4f46\u662f\u5982\u679c\u662f\u5176\u4ed6\u5f00\u53d1\u677f\uff0c\u6700\u597d\u6307\u5b9a\u4e00\u4e0b\u5f00\u53d1\u677f\u7c7b\u578b\uff0c\u6bd4\u5982esp32-s3\uff1a</p> <pre><code>idf.py set-target esp32s3\n</code></pre>"},{"location":"zh/KICK_START/ESP32/HANDS-ON/hands-on/#_6","title":"\u7f16\u8bd1\u7a0b\u5e8f","text":"<pre><code>idf.py build\n</code></pre>"},{"location":"zh/KICK_START/ESP32/HANDS-ON/hands-on/#_7","title":"\u70e7\u5f55\u7a0b\u5e8f","text":"<p><pre><code>idf.py flash\n</code></pre> \u6ce8\u610f\uff0c\u53ef\u4ee5\u67e5\u770b\u8bbe\u5907\u6240\u5728usb\u7aef\u53e3\uff1a</p> <pre><code>ls /dev/tty*\n</code></pre> <p>\u901a\u8fc7\u94fe\u63a5/\u975e\u94fe\u63a5\u5bf9\u6bd4\uff0c\u627e\u5230\u8bbe\u5907\u6240\u5728\u7aef\u53e3\uff0c\u6bd4\u5982<code>/dev/ttyACM1</code>\uff0c\u7136\u540e\u70e7\u5f55\u7a0b\u5e8f\uff1a</p> <pre><code>idf.py -p /dev/ttyACM1 flash\n</code></pre>"},{"location":"zh/KICK_START/ESP32/HANDS-ON/hands-on/#_8","title":"\u76d1\u6d4b\u7a0b\u5e8f\u8fd0\u884c","text":"<pre><code>idf.py monitor\n</code></pre> <p>\u4e5f\u53ef\u4ee5\u6307\u5b9a\u7aef\u53e3\uff1a</p> <pre><code>idf.py -p /dev/ttyACM1 monitor\n</code></pre>"},{"location":"zh/KICK_START/ESP32/HANDS-ON/hands-on/#_9","title":"\u9000\u51fa\u76d1\u6d4b","text":"<p>\u6309\u4e0b<code>Ctrl</code> + <code>]</code>\u5373\u53ef\u9000\u51fa\u76d1\u6d4b\u3002</p>"},{"location":"zh/KICK_START/ESP32/HARDWARE/hardware/","title":"\u786c\u4ef6\u5e73\u53f0","text":"<p>\u6b63\u70b9\u539f\u5b50 DNESP32S3M \u4e3b\u63a7\u677f</p> <p></p> <p></p> <p>\u6b63\u70b9\u539f\u5b50 DNESP32S3 \u5f00\u53d1\u677f</p> <p></p> <p></p> <p></p> <p></p> <p>DNESP32S3M/DNESP32S3</p> <p>\u672c\u6587\u6863\u4f7f\u7528\u7684\u786c\u4ef6\u5e73\u53f0\u4e3a\u6b63\u70b9\u539f\u5b50\u7684DNESP32S3M/DNESP32S3,\u57fa\u4e8eESP32-S3\uff0c\u5982\u4e0a\u56fe\u6240\u793a\u3002\u76f8\u5173\u7a0b\u5e8f\u8fc1\u79fb\u5230\u5176\u4ed6\u5f00\u53d1\u677f\u5e94\u8be5\u4e5f\u662f\u53ef\u4ee5\u7684\uff0c\u4f46\u662f\u9700\u8981\u6839\u636e\u5b9e\u9645\u60c5\u51b5\u8fdb\u884c\u9002\u914d\u3002</p> <p>DNESP32S3M/DNESP32S3</p> <p>ESP32-S3 SoC \u82af\u7247\u652f\u6301\u4ee5\u4e0b\u529f\u80fd\uff1a</p> <ul> <li> <p>2.4 GHz Wi-Fi</p> </li> <li> <p>\u4f4e\u529f\u8017\u84dd\u7259</p> </li> <li> <p>\u9ad8\u6027\u80fd Xtensa\u00ae 32 \u4f4d LX7 \u53cc\u6838\u5904\u7406\u5668</p> </li> <li> <p>\u8fd0\u884c RISC-V \u6216 FSM \u5185\u6838\u7684\u8d85\u4f4e\u529f\u8017\u534f\u5904\u7406\u5668</p> </li> <li> <p>\u591a\u79cd\u5916\u8bbe</p> </li> <li> <p>\u5185\u7f6e\u5b89\u5168\u786c\u4ef6</p> </li> <li> <p>USB OTG \u63a5\u53e3</p> </li> <li> <p>USB \u4e32\u53e3/JTAG \u63a7\u5236\u5668</p> </li> </ul> <p>ESP32-S3 \u91c7\u7528 40 nm \u5de5\u827a\u5236\u6210\uff0c\u5177\u6709\u6700\u4f73\u7684\u529f\u8017\u6027\u80fd\u3001\u5c04\u9891\u6027\u80fd\u3001\u7a33\u5b9a\u6027\u3001\u901a\u7528\u6027\u548c\u53ef\u9760\u6027\uff0c\u9002\u7528\u4e8e\u5404\u79cd\u5e94\u7528\u573a\u666f\u548c\u4e0d\u540c\u529f  \u8017\u9700\u6c42\u3002</p> <p>\u4e50\u946b\u4e3a\u7528\u6237\u63d0\u4f9b\u5b8c\u6574\u7684\u8f6f\u3001\u786c\u4ef6\u8d44\u6e90\uff0c\u8fdb\u884c ESP32-S3 \u786c\u4ef6\u8bbe\u5907\u7684\u5f00\u53d1\u3002\u5176\u4e2d\uff0c\u4e50\u946b\u7684\u8f6f\u4ef6\u5f00\u53d1\u73af\u5883 ESP-IDF \u65e8\u5728\u534f\u52a9\u7528\u6237\u5feb \u901f\u5f00\u53d1\u7269\u8054\u7f51 (IoT) \u5e94\u7528\uff0c\u53ef\u6ee1\u8db3\u7528\u6237\u5bf9 Wi-Fi\u3001\u84dd\u7259\u3001\u4f4e\u529f\u8017\u7b49\u65b9\u9762\u7684\u8981\u6c42\u3002</p> <p>Note</p> <p>\u5f00\u59cb\u7f16\u7a0b\u524d\uff0c\u60a8\u9700\u8981\uff1a</p> <ul> <li> <p>\u4e00\u53f0\u5e26\u6709 USB \u7aef\u53e3\u7684\u8ba1\u7b97\u673a</p> </li> <li> <p>\u4e00\u6839 USB \u6570\u636e\u7ebf</p> </li> <li> <p>\u4e00\u5757 DNESP32S3M/DNESP32S3 \u5f00\u53d1\u677f\u6216\u5176\u4ed6 ESP32 \u5f00\u53d1\u677f</p> </li> </ul>"},{"location":"zh/KICK_START/ESP32/TEMPLATE/template/","title":"\u6a21\u677f\u9879\u76ee\u642d\u5efa","text":""},{"location":"zh/KICK_START/ESP32/TEMPLATE/template/#_2","title":"\u73af\u5883\u51c6\u5907","text":"<p>Info</p> <p>\u6211\u4eec\u4f7f\u7528 VSCode + ESP-IDF \u8fdb\u884c\u5f00\u53d1\u3002\u6709\u5173\u8bbe\u7f6e\u5f00\u53d1\u73af\u5883\u7684\u8be6\u7ec6\u4fe1\u606f\u53ef\u4ee5\u5728\u4e92\u8054\u7f51\u4e0a\u627e\u5230\u3002\u6211\u5047\u8bbe\u60a8\u5df2\u7ecf\u8bbe\u7f6e\u597d\u4e86\u5f00\u53d1\u73af\u5883\u3002</p>"},{"location":"zh/KICK_START/ESP32/TEMPLATE/template/#_3","title":"\u521b\u5efa\u65b0\u9879\u76ee","text":"<ol> <li>\u542f\u52a8 VSCode\uff0c\u7136\u540e\u901a\u8fc7\u6309 <code>Ctrl+Shift+P</code>\uff08Windows/Linux\uff09\u6216 <code>Cmd+Shift+P</code>\uff08macOS\uff09\u6253\u5f00\u547d\u4ee4\u9762\u677f\u3002</li> <li>\u8f93\u5165 <code>ESP-IDF: New Project</code> \u5e76\u6309 <code>Enter</code>\u3002 </li> <li>\u8fdb\u5165\u9879\u76ee\u914d\u7f6e UI \u5e76\u586b\u5199\u6240\u9700\u4fe1\u606f\u3002 </li> <li>\u9009\u62e9\u4e00\u4e2a\u6a21\u677f\u6765\u521b\u5efa\u65b0\u9879\u76ee\u3002 </li> <li>\u5728\u65b0\u7a97\u53e3\u4e2d\u6253\u5f00\u3002  </li> </ol>"},{"location":"zh/KICK_START/ESP32/TEMPLATE/template/#_4","title":"\u6a21\u677f\u5316\u9879\u76ee\u7ed3\u6784","text":"<pre><code>sample_proj/ # \u9879\u76ee\u6839\u76ee\u5f55\n\u251c\u2500\u2500 CMakeLists.txt # \u9879\u76ee CMake \u914d\u7f6e\u6587\u4ef6\n\u251c\u2500\u2500 main/ # \u4e3b\u5e94\u7528\u7a0b\u5e8f\u76ee\u5f55\n\u2502   \u251c\u2500\u2500 CMakeLists.txt # \u5e94\u7528\u7a0b\u5e8f CMake \u914d\u7f6e\u6587\u4ef6\n\u2502   \u2514\u2500\u2500 main.c # \u5e94\u7528\u7a0b\u5e8f\u6e90\u6587\u4ef6\n\u2514\u2500\u2500 sdkconfig # \u9879\u76ee\u914d\u7f6e\u6587\u4ef6\n</code></pre>"},{"location":"zh/KICK_START/ESP32/TEMPLATE/template/#_5","title":"\u9879\u76ee\u914d\u7f6e","text":"<p>Note</p> <p>\u8fd9\u4e00\u6b65\u662f\u4e3a\u4e86\u914d\u7f6e\u9879\u76ee\u8bbe\u7f6e\u4ee5\u6700\u5927\u5316\u786c\u4ef6\u7684\u6027\u80fd\uff0c\u5373\u4f7f\u7528\u7279\u5b9a\u4e8e\u76ee\u6807\u7684\u914d\u7f6e\u800c\u4e0d\u662f\u9ed8\u8ba4\u914d\u7f6e\u3002</p> <p>Warning</p> <p>\u5728\u6253\u5f00\u9879\u76ee\u914d\u7f6e UI \u4e4b\u524d\uff0c\u8bf7\u786e\u4fdd\u60a8\u5df2\u5728 VSCode \u4e2d\u6253\u5f00\u4e86\u9879\u76ee\uff0c\u5c06\u76ee\u6807\u8bbe\u7f6e\u4e3a\u5bf9\u5e94\u7684\u677f\u5b50\uff0c\u5e76\u5b89\u88c5\u4e86 ESP-IDF \u6269\u5c55\u3002</p> <ol> <li>\u901a\u8fc7\u6309 <code>Ctrl+Shift+P</code>\uff08Windows/Linux\uff09\u6216 <code>Cmd+Shift+P</code>\uff08macOS\uff09\u5e76\u8f93\u5165 <code>ESP-IDF: Configure Project</code> \u8fdb\u5165\u9879\u76ee\u914d\u7f6e UI\u3002\u6216\u8005\uff0c\u53ef\u4ee5\u70b9\u51fb VSCode \u7a97\u53e3\u5e95\u90e8\u83dc\u5355\u7684\u9f7f\u8f6e\u56fe\u6807\u3002 </li> <li>'FLASH' \u914d\u7f6e\u3002\u5728\u641c\u7d22\u680f\u4e2d\u8f93\u5165 <code>flash</code> \u5e76\u6309 <code>Enter</code>\u3002 </li> <li>'Partition Table' \u914d\u7f6e\u3002\u5728\u641c\u7d22\u680f\u4e2d\u8f93\u5165 <code>partition</code> \u5e76\u6309 <code>Enter</code>\u3002  \u8be6\u7ec6\u4fe1\u606f\u7a0d\u540e\u63d0\u4f9b</li> <li>'PSRAM' \u914d\u7f6e\u3002\u5728\u641c\u7d22\u680f\u4e2d\u8f93\u5165 <code>psram</code> \u5e76\u6309 <code>Enter</code>\u3002 </li> <li>\u66f4\u6539 CPU \u9891\u7387\u3002\u5728\u641c\u7d22\u680f\u4e2d\u8f93\u5165 <code>cpu</code> \u5e76\u6309 <code>Enter</code>\u3002\u5c06 CPU \u9891\u7387\u4fee\u6539\u4e3a 240 MHz\u3002 </li> <li>\u4fee\u6539 FreeRTOS tick \u65f6\u949f\u9891\u7387\u3002\u5728\u641c\u7d22\u680f\u4e2d\u8f93\u5165 <code>tick</code> \u5e76\u6309 <code>Enter</code>\u3002\u5c06\u9891\u7387\u4fee\u6539\u4e3a 1000\u3002 </li> <li>\u4fee\u6539\u5206\u533a\u8868\u3002\u5728\u547d\u4ee4\u9762\u677f\u4e2d\u8f93\u5165 <code>ESP-IDF: Open Partition Table Editor UI</code>\u3002 </li> <li>\u4fee\u6539\u5206\u533a\u8868\u5982\u4e0b\u6240\u793a\u3002 </li> <li>\u4fdd\u5b58\u6240\u6709\u4fee\u6539\u3002</li> </ol> <p>\u5230\u76ee\u524d\u4e3a\u6b62\uff0c\u6211\u4eec\u5df2\u7ecf\u5b8c\u6210\u4e86\u9879\u76ee\u521d\u59cb\u5316\u3002\u914d\u7f6e\u4fe1\u606f\u73b0\u5728\u4e0e\u786c\u4ef6\u677f\u4e0a\u8d44\u6e90\u4e00\u81f4\u3002</p>"},{"location":"zh/KICK_START/ESP32/TEMPLATE/template/#_6","title":"\u6a21\u677f\u7a0b\u5e8f","text":"<p>\u73b0\u5728\uff0c\u8ba9\u6211\u4eec\u521b\u5efa\u4e00\u4e2a\u7b80\u5355\u7684\u7a0b\u5e8f\u6765\u6d4b\u8bd5\u677f\u5b50\u3002</p> <p>\u8f6c\u5230 main.c \u6587\u4ef6, \u9ed8\u8ba4\u5185\u5bb9\u662f\uff1a</p> <p><pre><code>#include &lt;stdio.h&gt;\n\nvoid app_main(void)\n{\n\n}\n</code></pre> \u7528\u4ee5\u4e0b\u4ee3\u7801\u66ff\u6362\uff1a</p> <pre><code>#include \"freertos/FreeRTOS.h\"\n#include \"freertos/task.h\"\n#include \"nvs_flash.h\"\n#include \"esp_system.h\"\n#include \"esp_chip_info.h\"\n#include \"esp_psram.h\"\n#include \"esp_flash.h\"\n\n/**\n * @brief Entry point of the program\n * @param None\n * @retval None\n */\nvoid app_main(void)\n{\n    esp_err_t ret;\n    uint32_t flash_size;\n    esp_chip_info_t chip_info;\n\n    // Initialize NVS\n    ret = nvs_flash_init();\n    if (ret == ESP_ERR_NVS_NO_FREE_PAGES || ret == ESP_ERR_NVS_NEW_VERSION_FOUND)\n    {\n        ESP_ERROR_CHECK(nvs_flash_erase()); // Erase if needed\n        ret = nvs_flash_init();\n    }\n\n    // Get FLASH size\n    esp_flash_get_size(NULL, &amp;flash_size);\n    esp_chip_info(&amp;chip_info);\n\n    // Display CPU core count\n    printf(\"CPU Cores: %d\\n\", chip_info.cores);\n\n    // Display FLASH size\n    printf(\"Flash size: %ld MB flash\\n\", flash_size / (1024 * 1024));\n\n    // Display PSRAM size\n    printf(\"PSRAM size: %d bytes\\n\", esp_psram_get_size());\n\n    while (1)\n    {\n        printf(\"Hello-ESP32\\r\\n\");\n        vTaskDelay(1000);\n    }\n}\n</code></pre> <p>\u7136\u540e\uff0c\u786e\u4fdd\u4e32\u53e3\u6b63\u786e\uff0c\u677f\u5b50\u8bbe\u7f6e\u6b63\u786e\uff0c\u7136\u540e\u7f16\u8bd1\u5e76\u70e7\u5f55\u7a0b\u5e8f\u3002\u7136\u540e\uff0c\u4f60\u5e94\u8be5\u4f1a\u770b\u5230\u4e32\u53e3\u8f93\u51fa\u663e\u793a\u5f00\u53d1\u677f\u4fe1\u606f\u548c <code>Hello-ESP32</code> \u6d88\u606f\u3002</p>"},{"location":"zh/KICK_START/ESP32/TEMPLATE/template/#_7","title":"\u7ed3\u8bba","text":"<p>Note</p> <p>\u8fd9\u4e2a\u9879\u76ee\u5bf9DNESP32S3M/DNESP32S3\u8fdb\u884c\u4e86\u521d\u59cb\u5316\uff0c\u5e76\u4e14\u53ef\u4ee5\u4e3a\u540e\u7eed\u5f00\u53d1\u63d0\u4f9b\u4e00\u4e2a\u975e\u5e38\u6709\u7528\u7684\u6a21\u677f\u3002\u76f8\u6bd4\u8f83\u4e0eSTM32\uff0cESP32\u7684\u5f00\u53d1\u9690\u85cf\u4e86\u8bb8\u591a\u7ec6\u8282\uff0c\u540c\u65f6\u4e5f\u4f7f\u5f97\u8bbe\u7f6e\u6d41\u7a0b\u66f4\u52a0\u7b80\u5355\u3002</p> <p>Tip</p> <p>\u8fd9\u4e2a\u6a21\u677f\u5bf9DNESP32S3M\u548cDNESP32S3\u4e24\u4e2a\u677f\u5b50\u90fd\u9002\u7528\u3002</p>"},{"location":"zh/KICK_START/STM32/stm32/","title":"STM32","text":"<p>\u5373\u5c06\u63a8\u51fa ... \u8bf7\u5148\u53c2\u8003\u4ee5\u4e0b\u4ed3\u5e93:</p> <ul> <li> <p> MCU_NODE_STM32\ud83c\udfaf\ud83c\udfc6</p> <p>\u57fa\u4e8e STM32 \u7684 MCU IoT \u8282\u70b9\uff0c\u5177\u6709\u9ad8\u6027\u80fd\u8fb9\u7f18\u8ba1\u7b97</p> <p>  \u4f20\u9001\u95e8 </p> </li> </ul>"},{"location":"zh/RELEASE/release/","title":"\u53d1\u5e03","text":""},{"location":"zh/RELEASE/release/#_2","title":"\u4ee3\u7801\u4ed3\u5e93","text":"<ul> <li> <p> NexNode</p> <p>  Portal </p> </li> </ul>"},{"location":"zh/RELEASE/release/#_3","title":"\u53d1\u5e03\u8bf4\u660e","text":"MCU \u76ee\u6807\u8bbe\u5907 \u6587\u4ef6\u5939 \u6700\u540e\u66f4\u65b0 \u8bf4\u660e ESP32 DNESP32S3M CODE-ESP32-DNESP32S3M 2025\u5e742\u670817\u65e5 \ud83c\udfd7\ufe0f ESP32 DNESP32S3 CODE-ESP32-DNESP32S3 2025\u5e742\u670817\u65e5 \ud83c\udfd7\ufe0f STM32 FKH743M2-IIT6 CODE-STM32-FKH743M2-IIT6 2025\u5e742\u670817\u65e5 \ud83d\udcc6"},{"location":"zh/ROADMAP/roadmap/","title":"\u8def\u7ebf\u56fe","text":""},{"location":"zh/ROADMAP/roadmap/#_2","title":"\u67b6\u6784","text":""},{"location":"zh/ROADMAP/roadmap/#_3","title":"\u5206\u5c42\u67b6\u6784","text":"<pre><code>+------------------------------+\n| \u5e94\u7528\u5c42                        |\n+------------------------------+\n| \u4e2d\u95f4\u4ef6                        |\n+------------------------------+\n| \u9a71\u52a8\u5c42                        |\n+------------------------------+\n| \u786c\u4ef6\u5c42                        |\n+------------------------------+\n</code></pre>"},{"location":"zh/ROADMAP/roadmap/#_4","title":"\u529f\u80fd\u6a21\u5757","text":"<pre><code>\u4e3b\u63a7 + \u611f\u77e5 + \u901a\u4fe1 + \u6267\u884c + \u7535\u6e90\n</code></pre>"},{"location":"zh/ROADMAP/roadmap/#_5","title":"\u5fae\u63a7\u5236\u5668","text":"<ul> <li>ESP32</li> <li>STM32</li> </ul>"},{"location":"zh/ROADMAP/roadmap/#_6","title":"\u5f00\u53d1\u677f","text":"<p>ESP32</p> <ul> <li>DNESP32S3M </li> <li>DNESP32S3</li> </ul> <p>STM32</p> <ul> <li>FKH743M2-IIT6</li> </ul>"}]}